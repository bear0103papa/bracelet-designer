{"version":3,"file":"static/js/234.52732f7a.chunk.js","mappings":"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","sources":["components/SizeSelector/index.js","pages/ProfilePage.js","components/SavedDesigns/index.js"],"sourcesContent":["import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\nimport { useState } from 'react';\n\nconst SizeSelectorContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 12px;\n  font-size: 16px;\n  color: #333;\n  display: flex;\n  align-items: center;\n`;\n\nconst UnitLabel = styled.span`\n  font-size: 14px;\n  color: #666;\n  margin-left: 5px;\n  font-weight: normal;\n`;\n\nconst SizeOptions = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n`;\n\nconst SizeButton = styled.button`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: ${props => props.active ? '#666' : '#fff'};\n  color: ${props => props.active ? '#fff' : '#333'};\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  font-size: 16px;\n  \n  &:hover {\n    background: ${props => props.active ? '#666' : '#f0f0f0'};\n  }\n`;\n\nconst CustomButton = styled(SizeButton)`\n  width: 80px;\n  height: 50px;\n  border-radius: 25px;\n  padding: 0 15px;\n`;\n\nconst CustomInputContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n`;\n\nconst CustomInput = styled.input`\n  width: 80px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 16px;\n`;\n\nconst Unit = styled.span`\n  margin-left: 8px;\n  color: #666;\n  font-size: 14px;\n`;\n\nconst SizeSelector = () => {\n  const { currentDesign, setCurrentDesign } = useDesign();\n  const [showCustomInput, setShowCustomInput] = useState(false);\n  const [customValue, setCustomValue] = useState('');\n  \n  // 手圍尺寸（cm）\n  const sizesInCm = [14, 15, 16, 17, 18];\n  \n  // 將 mm 轉換為 cm 顯示\n  const currentSizeInCm = currentDesign.size / 10;\n\n  const handleSizeChange = (sizeInCm) => {\n    // 將 cm 轉換為 mm 儲存\n    setCurrentDesign(prev => ({\n      ...prev,\n      size: sizeInCm * 10\n    }));\n    setShowCustomInput(false);\n  };\n\n  const handleCustomSize = (e) => {\n    const value = e.target.value;\n    setCustomValue(value);\n  };\n\n  const handleCustomSubmit = () => {\n    const valueInCm = parseFloat(customValue);\n    if (!isNaN(valueInCm) && valueInCm >= 8 && valueInCm <= 30) {\n      handleSizeChange(valueInCm);\n    }\n    setShowCustomInput(false);\n  };\n\n  const handleCustomClick = () => {\n    setShowCustomInput(true);\n    setCustomValue(currentSizeInCm.toString());\n  };\n\n  return (\n    <SizeSelectorContainer>\n      <Title>\n        手圍尺寸\n        <UnitLabel>(cm)</UnitLabel>\n      </Title>\n      <SizeOptions>\n        {sizesInCm.map(size => (\n          <SizeButton\n            key={size}\n            active={currentSizeInCm === size}\n            onClick={() => handleSizeChange(size)}\n          >\n            {size}\n          </SizeButton>\n        ))}\n        \n        <CustomButton onClick={handleCustomClick}>\n          自訂\n        </CustomButton>\n      </SizeOptions>\n      \n      {showCustomInput && (\n        <CustomInputContainer>\n          <CustomInput\n            type=\"number\"\n            step=\"0.1\"\n            min=\"8\"\n            max=\"30\"\n            value={customValue}\n            onChange={handleCustomSize}\n            onBlur={handleCustomSubmit}\n            autoFocus\n          />\n          <Unit>cm</Unit>\n        </CustomInputContainer>\n      )}\n    </SizeSelectorContainer>\n  );\n};\n\nexport default SizeSelector; ","import React from 'react';\nimport styled from 'styled-components';\nimport SavedDesigns from '../components/SavedDesigns';\nimport { useDesign } from '../contexts/DesignContext';\nimport SizeSelector from '../components/SizeSelector';\nimport { useState } from 'react';\n\nconst ProfileContainer = styled.div`\n  padding: 20px;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n`;\n\nconst Section = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst Title = styled.h2`\n  font-size: 20px;\n  margin-bottom: 16px;\n  color: #333;\n`;\n\nconst TotalPrice = styled.div`\n  font-size: 18px;\n  font-weight: bold;\n  margin: 15px 0;\n  text-align: right;\n  color: #333;\n`;\n\nconst OrderButton = styled.button`\n  width: 100%;\n  padding: 12px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #45a049;\n  }\n`;\n\nconst OrderForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-top: 20px;\n`;\n\nconst Input = styled.input`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  min-height: 100px;\n`;\n\nconst ProfilePage = () => {\n  const { currentDesign } = useDesign();\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n\n  const calculateTotal = () => {\n    return currentDesign.crystals.reduce((sum, crystal) => sum + crystal.price, 0);\n  };\n\n  const handleOrder = () => {\n    setShowOrderForm(true);\n  };\n\n  const handleSubmitOrder = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    // 這裡可以處理訂單提交邏輯\n    setOrderSuccess(true);\n    setShowOrderForm(false);\n  };\n\n  return (\n    <ProfileContainer>\n      <Section>\n        <SavedDesigns />\n      </Section>\n      \n      <Section>\n        <Title>訂購資訊</Title>\n        <TotalPrice>\n          總金額: NT$ {calculateTotal()}\n        </TotalPrice>\n        <OrderButton onClick={handleOrder}>\n          下單\n        </OrderButton>\n        \n        {showOrderForm && (\n          <OrderForm onSubmit={handleSubmitOrder}>\n            <Input \n              name=\"name\" \n              placeholder=\"姓名\" \n              required \n            />\n            <Input \n              name=\"email\" \n              type=\"email\" \n              placeholder=\"Email\" \n              required \n            />\n            <TextArea \n              name=\"address\" \n              placeholder=\"送貨地址\" \n              required \n            />\n            <OrderButton type=\"submit\">\n              確認送出\n            </OrderButton>\n          </OrderForm>\n        )}\n        \n        {orderSuccess && (\n          <div style={{ \n            color: '#4CAF50', \n            textAlign: 'center', \n            marginTop: '10px' \n          }}>\n            訂購成功！\n          </div>\n        )}\n      </Section>\n    </ProfileContainer>\n  );\n};\n\nexport default ProfilePage; ","import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\n\nconst SavedContainer = styled.div`\n  padding: 16px;\n  background: #f9f9f9;\n  border-radius: 8px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 16px;\n  font-size: 18px;\n  color: #333;\n  text-align: center;\n  flex-shrink: 0;\n`;\n\nconst SavedList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 16px;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 4px;\n`;\n\nconst SavedItem = styled.div`\n  position: relative;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n  border: 1px solid #eee;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n\n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    border-color: #ddd;\n  }\n`;\n\nconst PreviewContainer = styled.div`\n  position: relative;\n  width: 100%;\n  padding-top: 100%;\n  background: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n`;\n\nconst BraceletPreview = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: 50%;\n`;\n\nconst PreviewBead = styled.img`\n  position: absolute;\n  width: ${props => props.size}px;\n  height: ${props => props.size}px;\n  border-radius: 50%;\n  left: 50%;\n  top: 50%;\n  transform-origin: center;\n  object-fit: cover;\n  transform: ${props => `\n    translate(-50%, -50%)\n    rotate(${props.angle}deg)\n    translateX(${props.radius}px)\n    rotate(${-props.angle}deg)\n  `};\n`;\n\nconst DeleteButton = styled.button`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: rgba(0, 0, 0, 0.4);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.2s, background-color 0.2s;\n  padding: 0;\n  font-size: 14px;\n  line-height: 1;\n\n  ${SavedItem}:hover & {\n    opacity: 1;\n  }\n\n  &:hover {\n    background: rgba(255, 0, 0, 0.8);\n  }\n`;\n\nconst EmptyMessage = styled.div`\n  text-align: center;\n  color: #888;\n  padding: 30px;\n  font-size: 14px;\n`;\n\nconst SavedDesigns = () => {\n  const { \n    currentDesign, \n    setCurrentDesign, \n    savedDesigns = [], \n    setSavedDesigns \n  } = useDesign();\n\n  const handleLoad = (design) => {\n    setCurrentDesign({\n      ...design,\n    });\n  };\n\n  const handleDelete = (e, designId) => {\n    e.stopPropagation();\n    const updatedDesigns = savedDesigns.filter(design => design.id !== designId);\n    setSavedDesigns(updatedDesigns);\n    localStorage.setItem('savedDesigns', JSON.stringify(updatedDesigns));\n  };\n\n  const renderBraceletPreview = (design) => {\n    if (!design || !design.crystals || design.crystals.length === 0) {\n      return null;\n    }\n    const PREVIEW_RADIUS = 60;\n    const MAX_BEAD_SIZE = 32;\n    const MIN_BEAD_SIZE = 22;\n\n    const totalBeads = design.crystals.length;\n\n    return design.crystals.map((crystal, index) => {\n      const angle = (index / totalBeads) * 360;\n\n      const scaleFactor = Math.min(1, crystal.size / 10);\n      const beadDisplaySize = MIN_BEAD_SIZE + (MAX_BEAD_SIZE - MIN_BEAD_SIZE) * scaleFactor;\n\n      return (\n        <PreviewBead\n          key={`${crystal.id || index}-${index}`}\n          src={crystal.image}\n          size={beadDisplaySize}\n          angle={angle}\n          radius={PREVIEW_RADIUS}\n          alt={crystal.name || 'bead'}\n          onError={(e) => {\n            e.target.src = '/placeholder.jpg';\n          }}\n        />\n      );\n    });\n  };\n\n  return (\n    <SavedContainer>\n      <Title>已儲存設計</Title>\n      {savedDesigns && savedDesigns.length > 0 ? (\n        <SavedList>\n          {savedDesigns.map(design => (\n            <SavedItem\n              key={design.id}\n              onClick={() => handleLoad(design)}\n            >\n              <PreviewContainer>\n                <BraceletPreview>\n                  {renderBraceletPreview(design)}\n                </BraceletPreview>\n              </PreviewContainer>\n              <DeleteButton\n                onClick={(e) => handleDelete(e, design.id)}\n              >\n                ×\n              </DeleteButton>\n            </SavedItem>\n          ))}\n        </SavedList>\n      ) : (\n        <EmptyMessage>尚無儲存的設計</EmptyMessage>\n      )}\n    </SavedContainer>\n  );\n};\n\nexport default SavedDesigns; "],"names":["styled","div","h3","span","SizeButton","button","props","active","ProfileContainer","input","Section","Title","h2","TotalPrice","OrderButton","OrderForm","form","Input","TextArea","textarea","ProfilePage","currentDesign","useDesign","showOrderForm","setShowOrderForm","useState","orderSuccess","setOrderSuccess","_jsxs","children","_jsx","SavedDesigns","crystals","reduce","sum","crystal","price","onClick","handleOrder","onSubmit","e","preventDefault","FormData","target","name","placeholder","required","type","style","color","textAlign","marginTop","SavedContainer","SavedList","SavedItem","PreviewContainer","BraceletPreview","PreviewBead","img","size","angle","radius","DeleteButton","EmptyMessage","setCurrentDesign","savedDesigns","setSavedDesigns","renderBraceletPreview","design","length","totalBeads","map","index","beadDisplaySize","Math","min","src","image","alt","onError","id","handleLoad","handleDelete","designId","stopPropagation","updatedDesigns","filter","localStorage","setItem","JSON","stringify"],"sourceRoot":""}