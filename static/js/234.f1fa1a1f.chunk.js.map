{"version":3,"file":"static/js/234.f1fa1a1f.chunk.js","mappings":"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","sources":["components/SavedDesigns/index.js","components/SizeSelector/index.js","pages/ProfilePage.js"],"sourcesContent":["import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\n\nconst SavedContainer = styled.div`\n  padding: 16px;\n  background: #f9f9f9;\n  border-radius: 8px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 16px;\n  font-size: 18px;\n  color: #333;\n  text-align: center;\n  flex-shrink: 0;\n`;\n\nconst SavedList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16px;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 4px;\n`;\n\nconst SavedItem = styled.div`\n  position: relative;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n  border: 1px solid #eee;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n\n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    border-color: #ddd;\n  }\n`;\n\nconst PreviewContainer = styled.div`\n  position: relative;\n  width: 100%;\n  padding-top: 100%;\n  background: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n`;\n\nconst BraceletPreview = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: 50%;\n`;\n\nconst PreviewBead = styled.img`\n  position: absolute;\n  width: ${props => props.size}px;\n  height: ${props => props.size}px;\n  border-radius: 50%;\n  left: 50%;\n  top: 50%;\n  transform-origin: center;\n  object-fit: cover;\n  transform: ${props => `\n    translate(-50%, -50%)\n    rotate(${props.angle}deg)\n    translateX(${props.radius}px)\n    rotate(${-props.angle}deg)\n  `};\n`;\n\nconst DeleteButton = styled.button`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: rgba(0, 0, 0, 0.4);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.2s, background-color 0.2s;\n  padding: 0;\n  font-size: 14px;\n  line-height: 1;\n\n  ${SavedItem}:hover & {\n    opacity: 1;\n  }\n\n  &:hover {\n    background: rgba(255, 0, 0, 0.8);\n  }\n`;\n\nconst EmptyMessage = styled.div`\n  text-align: center;\n  color: #888;\n  padding: 30px;\n  font-size: 14px;\n`;\n\nconst SavedDesigns = () => {\n  const { \n    currentDesign, \n    setCurrentDesign, \n    savedDesigns = [], \n    setSavedDesigns \n  } = useDesign();\n\n  const handleLoad = (design) => {\n    setCurrentDesign({\n      ...design,\n    });\n  };\n\n  const handleDelete = (e, designId) => {\n    e.stopPropagation();\n    const updatedDesigns = savedDesigns.filter(design => design.id !== designId);\n    setSavedDesigns(updatedDesigns);\n    localStorage.setItem('savedDesigns', JSON.stringify(updatedDesigns));\n  };\n\n  const renderBraceletPreview = (design) => {\n    if (!design || !design.crystals || design.crystals.length === 0) {\n      return null;\n    }\n    const PREVIEW_RADIUS = 65;\n    const MAX_BEAD_SIZE = 35;\n    const MIN_BEAD_SIZE = 25;\n\n    const totalBeads = design.crystals.length;\n\n    return design.crystals.map((crystal, index) => {\n      const angle = (index / totalBeads) * 360;\n\n      const scaleFactor = Math.min(1, crystal.size / 10);\n      const beadDisplaySize = MIN_BEAD_SIZE + (MAX_BEAD_SIZE - MIN_BEAD_SIZE) * scaleFactor;\n\n      return (\n        <PreviewBead\n          key={`${crystal.id || index}-${index}`}\n          src={crystal.image}\n          size={beadDisplaySize}\n          angle={angle}\n          radius={PREVIEW_RADIUS}\n          alt={crystal.name || 'bead'}\n          onError={(e) => {\n            e.target.src = '/placeholder.jpg';\n          }}\n        />\n      );\n    });\n  };\n\n  return (\n    <SavedContainer>\n      <Title>已儲存設計</Title>\n      {savedDesigns && savedDesigns.length > 0 ? (\n        <SavedList>\n          {savedDesigns.map(design => (\n            <SavedItem\n              key={design.id}\n              onClick={() => handleLoad(design)}\n            >\n              <PreviewContainer>\n                <BraceletPreview>\n                  {renderBraceletPreview(design)}\n                </BraceletPreview>\n              </PreviewContainer>\n              <DeleteButton\n                onClick={(e) => handleDelete(e, design.id)}\n              >\n                ×\n              </DeleteButton>\n            </SavedItem>\n          ))}\n        </SavedList>\n      ) : (\n        <EmptyMessage>尚無儲存的設計</EmptyMessage>\n      )}\n    </SavedContainer>\n  );\n};\n\nexport default SavedDesigns; ","import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\nimport { useState } from 'react';\n\nconst SizeSelectorContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 12px;\n  font-size: 16px;\n  color: #333;\n  display: flex;\n  align-items: center;\n`;\n\nconst UnitLabel = styled.span`\n  font-size: 14px;\n  color: #666;\n  margin-left: 5px;\n  font-weight: normal;\n`;\n\nconst SizeOptions = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n`;\n\nconst SizeButton = styled.button`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: ${props => props.active ? '#666' : '#fff'};\n  color: ${props => props.active ? '#fff' : '#333'};\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  font-size: 16px;\n  \n  &:hover {\n    background: ${props => props.active ? '#666' : '#f0f0f0'};\n  }\n`;\n\nconst CustomButton = styled(SizeButton)`\n  width: 80px;\n  height: 50px;\n  border-radius: 25px;\n  padding: 0 15px;\n`;\n\nconst CustomInputContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n`;\n\nconst CustomInput = styled.input`\n  width: 80px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 16px;\n`;\n\nconst Unit = styled.span`\n  margin-left: 8px;\n  color: #666;\n  font-size: 14px;\n`;\n\nconst SizeSelector = () => {\n  const { currentDesign, setCurrentDesign } = useDesign();\n  const [showCustomInput, setShowCustomInput] = useState(false);\n  const [customValue, setCustomValue] = useState('');\n  \n  // 手圍尺寸（cm）\n  const sizesInCm = [14, 15, 16, 17, 18];\n  \n  // 將 mm 轉換為 cm 顯示\n  const currentSizeInCm = currentDesign.size / 10;\n\n  const handleSizeChange = (sizeInCm) => {\n    // 將 cm 轉換為 mm 儲存\n    setCurrentDesign(prev => ({\n      ...prev,\n      size: sizeInCm * 10\n    }));\n    setShowCustomInput(false);\n  };\n\n  const handleCustomSize = (e) => {\n    const value = e.target.value;\n    setCustomValue(value);\n  };\n\n  const handleCustomSubmit = () => {\n    const valueInCm = parseFloat(customValue);\n    if (!isNaN(valueInCm) && valueInCm >= 8 && valueInCm <= 30) {\n      handleSizeChange(valueInCm);\n    }\n    setShowCustomInput(false);\n  };\n\n  const handleCustomClick = () => {\n    setShowCustomInput(true);\n    setCustomValue(currentSizeInCm.toString());\n  };\n\n  return (\n    <SizeSelectorContainer>\n      <Title>\n        手圍尺寸\n        <UnitLabel>(cm)</UnitLabel>\n      </Title>\n      <SizeOptions>\n        {sizesInCm.map(size => (\n          <SizeButton\n            key={size}\n            active={currentSizeInCm === size}\n            onClick={() => handleSizeChange(size)}\n          >\n            {size}\n          </SizeButton>\n        ))}\n        \n        <CustomButton onClick={handleCustomClick}>\n          自訂\n        </CustomButton>\n      </SizeOptions>\n      \n      {showCustomInput && (\n        <CustomInputContainer>\n          <CustomInput\n            type=\"number\"\n            step=\"0.1\"\n            min=\"8\"\n            max=\"30\"\n            value={customValue}\n            onChange={handleCustomSize}\n            onBlur={handleCustomSubmit}\n            autoFocus\n          />\n          <Unit>cm</Unit>\n        </CustomInputContainer>\n      )}\n    </SizeSelectorContainer>\n  );\n};\n\nexport default SizeSelector; ","import React from 'react';\nimport styled from 'styled-components';\nimport SavedDesigns from '../components/SavedDesigns';\nimport { useDesign } from '../contexts/DesignContext';\nimport SizeSelector from '../components/SizeSelector';\nimport { useState } from 'react';\n\nconst ProfileContainer = styled.div`\n  padding: 20px;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n`;\n\nconst Section = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst Title = styled.h2`\n  font-size: 20px;\n  margin-bottom: 16px;\n  color: #333;\n`;\n\nconst TotalPrice = styled.div`\n  font-size: 18px;\n  font-weight: bold;\n  margin: 15px 0;\n  text-align: right;\n  color: #333;\n`;\n\nconst OrderButton = styled.button`\n  width: 100%;\n  padding: 12px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #45a049;\n  }\n`;\n\nconst OrderForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-top: 20px;\n`;\n\nconst Input = styled.input`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  min-height: 100px;\n`;\n\nconst ProfilePage = () => {\n  const { currentDesign } = useDesign();\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n\n  const calculateTotal = () => {\n    return currentDesign.crystals.reduce((sum, crystal) => sum + crystal.price, 0);\n  };\n\n  const handleOrder = () => {\n    setShowOrderForm(true);\n  };\n\n  const handleSubmitOrder = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    // 這裡可以處理訂單提交邏輯\n    setOrderSuccess(true);\n    setShowOrderForm(false);\n  };\n\n  return (\n    <ProfileContainer>\n      <Section>\n        <SavedDesigns />\n      </Section>\n      \n      <Section>\n        <Title>訂購資訊</Title>\n        <TotalPrice>\n          總金額: NT$ {calculateTotal()}\n        </TotalPrice>\n        <OrderButton onClick={handleOrder}>\n          下單\n        </OrderButton>\n        \n        {showOrderForm && (\n          <OrderForm onSubmit={handleSubmitOrder}>\n            <Input \n              name=\"name\" \n              placeholder=\"姓名\" \n              required \n            />\n            <Input \n              name=\"email\" \n              type=\"email\" \n              placeholder=\"Email\" \n              required \n            />\n            <TextArea \n              name=\"address\" \n              placeholder=\"送貨地址\" \n              required \n            />\n            <OrderButton type=\"submit\">\n              確認送出\n            </OrderButton>\n          </OrderForm>\n        )}\n        \n        {orderSuccess && (\n          <div style={{ \n            color: '#4CAF50', \n            textAlign: 'center', \n            marginTop: '10px' \n          }}>\n            訂購成功！\n          </div>\n        )}\n      </Section>\n    </ProfileContainer>\n  );\n};\n\nexport default ProfilePage; "],"names":["SavedContainer","styled","div","Title","h3","SavedList","SavedItem","PreviewContainer","BraceletPreview","PreviewBead","img","props","size","angle","radius","DeleteButton","button","EmptyMessage","SavedDesigns","currentDesign","setCurrentDesign","savedDesigns","setSavedDesigns","useDesign","renderBraceletPreview","design","crystals","length","totalBeads","map","crystal","index","beadDisplaySize","Math","min","_jsx","src","image","alt","name","onError","e","target","id","_jsxs","children","onClick","handleLoad","handleDelete","designId","stopPropagation","updatedDesigns","filter","localStorage","setItem","JSON","stringify","span","SizeButton","active","ProfileContainer","input","Section","h2","TotalPrice","OrderButton","OrderForm","form","Input","TextArea","textarea","ProfilePage","showOrderForm","setShowOrderForm","useState","orderSuccess","setOrderSuccess","reduce","sum","price","handleOrder","onSubmit","preventDefault","FormData","placeholder","required","type","style","color","textAlign","marginTop"],"sourceRoot":""}