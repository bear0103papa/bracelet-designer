{"version":3,"file":"static/js/372.66fc3532.chunk.js","mappings":"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","sources":["components/SizeSelector/index.js","pages/ProfilePage.js","components/SavedDesigns/index.js","components/CategoryTabs/index.js","components/CrystalTable/index.js","pages/AccessoryPage.js","components/CategoryContent/index.js","components/ProductInfo/index.js","components/ProductDisplay/index.js","pages/CrystalPage.js","components/MobileNavigation/index.js","components/ScrollToTopButton.js","pages/MainPage.js"],"sourcesContent":["import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\nimport { useState } from 'react';\n\nconst SizeSelectorContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 12px;\n  font-size: 16px;\n  color: #333;\n  display: flex;\n  align-items: center;\n`;\n\nconst UnitLabel = styled.span`\n  font-size: 14px;\n  color: #666;\n  margin-left: 5px;\n  font-weight: normal;\n`;\n\nconst SizeOptions = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n`;\n\nconst SizeButton = styled.button`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: ${props => props.active ? '#666' : '#fff'};\n  color: ${props => props.active ? '#fff' : '#333'};\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  font-size: 16px;\n  \n  &:hover {\n    background: ${props => props.active ? '#666' : '#f0f0f0'};\n  }\n`;\n\nconst CustomButton = styled(SizeButton)`\n  width: 80px;\n  height: 50px;\n  border-radius: 25px;\n  padding: 0 15px;\n`;\n\nconst CustomInputContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n`;\n\nconst CustomInput = styled.input`\n  width: 80px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 16px;\n`;\n\nconst Unit = styled.span`\n  margin-left: 8px;\n  color: #666;\n  font-size: 14px;\n`;\n\nconst SizeSelector = () => {\n  const { currentDesign, setCurrentDesign } = useDesign();\n  const [showCustomInput, setShowCustomInput] = useState(false);\n  const [customValue, setCustomValue] = useState('');\n  \n  // 手圍尺寸（cm）\n  const sizesInCm = [14, 15, 16, 17, 18];\n  \n  // 將 mm 轉換為 cm 顯示\n  const currentSizeInCm = currentDesign.size / 10;\n\n  const handleSizeChange = (sizeInCm) => {\n    // 將 cm 轉換為 mm 儲存\n    setCurrentDesign(prev => ({\n      ...prev,\n      size: sizeInCm * 10\n    }));\n    setShowCustomInput(false);\n  };\n\n  const handleCustomSize = (e) => {\n    const value = e.target.value;\n    setCustomValue(value);\n  };\n\n  const handleCustomSubmit = () => {\n    const valueInCm = parseFloat(customValue);\n    if (!isNaN(valueInCm) && valueInCm >= 8 && valueInCm <= 30) {\n      handleSizeChange(valueInCm);\n    }\n    setShowCustomInput(false);\n  };\n\n  const handleCustomClick = () => {\n    setShowCustomInput(true);\n    setCustomValue(currentSizeInCm.toString());\n  };\n\n  return (\n    <SizeSelectorContainer>\n      <Title>\n        手圍尺寸\n        <UnitLabel>(cm)</UnitLabel>\n      </Title>\n      <SizeOptions>\n        {sizesInCm.map(size => (\n          <SizeButton\n            key={size}\n            active={currentSizeInCm === size}\n            onClick={() => handleSizeChange(size)}\n          >\n            {size}\n          </SizeButton>\n        ))}\n        \n        <CustomButton onClick={handleCustomClick}>\n          自訂\n        </CustomButton>\n      </SizeOptions>\n      \n      {showCustomInput && (\n        <CustomInputContainer>\n          <CustomInput\n            type=\"number\"\n            step=\"0.1\"\n            min=\"8\"\n            max=\"30\"\n            value={customValue}\n            onChange={handleCustomSize}\n            onBlur={handleCustomSubmit}\n            autoFocus\n          />\n          <Unit>cm</Unit>\n        </CustomInputContainer>\n      )}\n    </SizeSelectorContainer>\n  );\n};\n\nexport default SizeSelector; ","import React from 'react';\nimport styled from 'styled-components';\nimport SavedDesigns from '../components/SavedDesigns';\nimport { useDesign } from '../contexts/DesignContext';\nimport SizeSelector from '../components/SizeSelector';\nimport { useState } from 'react';\n\nconst ProfileContainer = styled.div`\n  padding: 20px;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n`;\n\nconst Section = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst Title = styled.h2`\n  font-size: 20px;\n  margin-bottom: 16px;\n  color: #333;\n`;\n\nconst TotalPrice = styled.div`\n  font-size: 18px;\n  font-weight: bold;\n  margin: 15px 0;\n  text-align: right;\n  color: #333;\n`;\n\nconst OrderButton = styled.button`\n  width: 100%;\n  padding: 12px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #45a049;\n  }\n`;\n\nconst OrderForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-top: 20px;\n`;\n\nconst Input = styled.input`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  min-height: 100px;\n`;\n\nconst ProfilePage = () => {\n  const { currentDesign } = useDesign();\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n\n  const calculateTotal = () => {\n    return currentDesign.crystals.reduce((sum, crystal) => sum + crystal.price, 0);\n  };\n\n  const handleOrder = () => {\n    setShowOrderForm(true);\n  };\n\n  const handleSubmitOrder = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    // 這裡可以處理訂單提交邏輯\n    setOrderSuccess(true);\n    setShowOrderForm(false);\n  };\n\n  return (\n    <ProfileContainer>\n      <Section>\n        <SavedDesigns />\n      </Section>\n      \n      <Section>\n        <Title>訂購資訊</Title>\n        <TotalPrice>\n          總金額: NT$ {calculateTotal()}\n        </TotalPrice>\n        <OrderButton onClick={handleOrder}>\n          下單\n        </OrderButton>\n        \n        {showOrderForm && (\n          <OrderForm onSubmit={handleSubmitOrder}>\n            <Input \n              name=\"name\" \n              placeholder=\"姓名\" \n              required \n            />\n            <Input \n              name=\"email\" \n              type=\"email\" \n              placeholder=\"Email\" \n              required \n            />\n            <TextArea \n              name=\"address\" \n              placeholder=\"送貨地址\" \n              required \n            />\n            <OrderButton type=\"submit\">\n              確認送出\n            </OrderButton>\n          </OrderForm>\n        )}\n        \n        {orderSuccess && (\n          <div style={{ \n            color: '#4CAF50', \n            textAlign: 'center', \n            marginTop: '10px' \n          }}>\n            訂購成功！\n          </div>\n        )}\n      </Section>\n    </ProfileContainer>\n  );\n};\n\nexport default ProfilePage; ","import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\n\nconst SavedContainer = styled.div`\n  padding: 16px;\n  background: #f9f9f9;\n  border-radius: 8px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 16px;\n  font-size: 18px;\n  color: #333;\n  text-align: center;\n  flex-shrink: 0;\n`;\n\nconst SavedList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 16px;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 4px;\n`;\n\nconst SavedItem = styled.div`\n  position: relative;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n  border: 1px solid #eee;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n\n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    border-color: #ddd;\n  }\n`;\n\nconst PreviewContainer = styled.div`\n  position: relative;\n  width: 100%;\n  padding-top: 100%;\n  background: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n`;\n\nconst BraceletPreview = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: 50%;\n`;\n\nconst PreviewBead = styled.img`\n  position: absolute;\n  width: ${props => props.size}px;\n  height: ${props => props.size}px;\n  border-radius: 50%;\n  left: 50%;\n  top: 50%;\n  transform-origin: center;\n  object-fit: cover;\n  transform: ${props => `\n    translate(-50%, -50%)\n    rotate(${props.angle}deg)\n    translateX(${props.radius}px)\n    rotate(${-props.angle}deg)\n  `};\n`;\n\nconst DeleteButton = styled.button`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: rgba(0, 0, 0, 0.4);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.2s, background-color 0.2s;\n  padding: 0;\n  font-size: 14px;\n  line-height: 1;\n\n  ${SavedItem}:hover & {\n    opacity: 1;\n  }\n\n  &:hover {\n    background: rgba(255, 0, 0, 0.8);\n  }\n`;\n\nconst EmptyMessage = styled.div`\n  text-align: center;\n  color: #888;\n  padding: 30px;\n  font-size: 14px;\n`;\n\nconst SavedDesigns = () => {\n  const { \n    currentDesign, \n    setCurrentDesign, \n    savedDesigns = [], \n    setSavedDesigns \n  } = useDesign();\n\n  const handleLoad = (design) => {\n    setCurrentDesign({\n      ...design,\n    });\n  };\n\n  const handleDelete = (e, designId) => {\n    e.stopPropagation();\n    const updatedDesigns = savedDesigns.filter(design => design.id !== designId);\n    setSavedDesigns(updatedDesigns);\n    localStorage.setItem('savedDesigns', JSON.stringify(updatedDesigns));\n  };\n\n  const renderBraceletPreview = (design) => {\n    if (!design || !design.crystals || design.crystals.length === 0) {\n      return null;\n    }\n    const PREVIEW_RADIUS = 60;\n    const MAX_BEAD_SIZE = 32;\n    const MIN_BEAD_SIZE = 22;\n\n    const totalBeads = design.crystals.length;\n\n    return design.crystals.map((crystal, index) => {\n      const angle = (index / totalBeads) * 360;\n\n      const scaleFactor = Math.min(1, crystal.size / 10);\n      const beadDisplaySize = MIN_BEAD_SIZE + (MAX_BEAD_SIZE - MIN_BEAD_SIZE) * scaleFactor;\n\n      return (\n        <PreviewBead\n          key={`${crystal.id || index}-${index}`}\n          src={crystal.image}\n          size={beadDisplaySize}\n          angle={angle}\n          radius={PREVIEW_RADIUS}\n          alt={crystal.name || 'bead'}\n          onError={(e) => {\n            e.target.src = '/placeholder.jpg';\n          }}\n        />\n      );\n    });\n  };\n\n  return (\n    <SavedContainer>\n      <Title>已儲存設計</Title>\n      {savedDesigns && savedDesigns.length > 0 ? (\n        <SavedList>\n          {savedDesigns.map(design => (\n            <SavedItem\n              key={design.id}\n              onClick={() => handleLoad(design)}\n            >\n              <PreviewContainer>\n                <BraceletPreview>\n                  {renderBraceletPreview(design)}\n                </BraceletPreview>\n              </PreviewContainer>\n              <DeleteButton\n                onClick={(e) => handleDelete(e, design.id)}\n              >\n                ×\n              </DeleteButton>\n            </SavedItem>\n          ))}\n        </SavedList>\n      ) : (\n        <EmptyMessage>尚無儲存的設計</EmptyMessage>\n      )}\n    </SavedContainer>\n  );\n};\n\nexport default SavedDesigns; ","import styled from 'styled-components';\n\nconst TabsContainer = styled.div`\n  display: flex;\n  background: white;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst Tab = styled.div`\n  flex: 1;\n  padding: 15px;\n  text-align: center;\n  cursor: pointer;\n  background: ${props => props.active ? '#f0f0f0' : 'white'};\n  font-weight: ${props => props.active ? 'bold' : 'normal'};\n  border-bottom: 2px solid ${props => props.active ? '#4a90e2' : 'transparent'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: #f5f5f5;\n  }\n`;\n\nconst CategoryTabs = ({ currentCategory, onCategoryChange, isMobile }) => {\n  const handleTabClick = (category) => {\n    if (category === 'helper') {\n      localStorage.removeItem('crystal_color_filter');\n      localStorage.removeItem('filter_timestamp');\n      localStorage.removeItem('redirect_to_helper');\n      localStorage.removeItem('helper_page');\n    }\n    \n    onCategoryChange(category);\n  };\n  \n  return (\n    <TabsContainer>\n      <Tab \n        active={currentCategory === 'crystal'} \n        onClick={() => handleTabClick('crystal')}\n      >\n        水晶\n      </Tab>\n      <Tab \n        active={currentCategory === 'accessory'} \n        onClick={() => handleTabClick('accessory')}\n      >\n        配件\n      </Tab>\n      {!isMobile && (\n        <Tab \n          active={currentCategory === 'helper'} \n          onClick={() => handleTabClick('helper')}\n        >\n          小幫手\n        </Tab>\n      )}\n    </TabsContainer>\n  );\n};\n\nexport default CategoryTabs; ","import styled from 'styled-components';\nimport { crystals } from '../../data/crystals';\nimport { useDesign } from '../../contexts/DesignContext';\nimport { useState, useEffect } from 'react';\n\nconst TableContainer = styled.div`\n  overflow-y: auto;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n`;\n\nconst GridView = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n  gap: 16px;\n  padding: 16px;\n`;\n\nconst CrystalCard = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px;\n  border: 1px solid #eee;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  }\n`;\n\nconst CrystalImage = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n  cursor: pointer;\n`;\n\nconst FilterContainer = styled.div`\n  display: flex;\n  gap: 16px;\n  margin-bottom: 16px;\n  flex-wrap: wrap;\n  align-items: center;\n`;\n\nconst FilterSelect = styled.select`\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  min-width: 120px;\n`;\n\nconst ClearFilterButton = styled.button`\n  padding: 8px 16px;\n  background: #f0f0f0;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #e0e0e0;\n  }\n`;\n\nconst CrystalName = styled.div`\n  margin-top: 8px;\n  font-size: 12px;\n  text-align: center;\n`;\n\nconst CrystalInfo = styled.div`\n  font-size: 10px;\n  color: #666;\n  text-align: center;\n`;\n\nconst CrystalTable = () => {\n  const { currentDesign, setCurrentDesign } = useDesign();\n  const [sortField, setSortField] = useState(null);\n  const [sortDirection, setSortDirection] = useState('asc');\n  const [filters, setFilters] = useState(() => {\n    // 從 localStorage 讀取保存的篩選條件\n    const savedFilters = localStorage.getItem('crystalFilters');\n    return savedFilters ? JSON.parse(savedFilters) : {\n      color: '',\n      size: '',\n      energy: '',\n      price: ''\n    };\n  });\n\n  // 當篩選條件變化時，保存到 localStorage\n  useEffect(() => {\n    localStorage.setItem('crystalFilters', JSON.stringify(filters));\n  }, [filters]);\n\n  // 獲取所有唯一的篩選選項\n  const filterOptions = {\n    color: [...new Set(crystals.map(c => c.color))],\n    size: ['小(≤8mm)', '中(8-12mm)', '大(≥12mm)'],\n    energy: [...new Set(crystals.map(c => c.energy))],\n    price: ['0-10', '11-15', '16-20']\n  };\n\n  const handleSort = (field) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortDirection('asc');\n    }\n  };\n\n  // 清除所有篩選條件\n  const handleClearFilters = () => {\n    const emptyFilters = {\n      color: '',\n      size: '',\n      power: '',\n      price: ''\n    };\n    setFilters(emptyFilters);\n    localStorage.setItem('crystalFilters', JSON.stringify(emptyFilters));\n  };\n\n  // 計算目前已使用的長度\n  const calculateUsedLength = () => {\n    return currentDesign.crystals.reduce((sum, crystal) => sum + crystal.size, 0);\n  };\n\n  // 檢查是否超出最大限制 (30cm = 300mm)\n  const isExceedingMaxLimit = () => {\n    const usedLength = calculateUsedLength();\n    return usedLength >= 300; // 30cm 轉換為 mm\n  };\n\n  // 檢查添加特定水晶後是否會超出最大限制\n  const wouldExceedMaxLimit = (crystal) => {\n    const usedLength = calculateUsedLength();\n    return usedLength + crystal.size > 300; // 30cm 轉換為 mm\n  };\n\n  const filteredAndSortedCrystals = crystals\n    .filter(crystal => {\n      // 首先檢查是否會超出最大限制\n      if (wouldExceedMaxLimit(crystal)) {\n        return false;\n      }\n      \n      // 然後應用其他篩選條件\n      return (\n        (!filters.color || crystal.color === filters.color) &&\n        (!filters.power || crystal.power === filters.power) &&\n        (!filters.size || (\n          filters.size === '小(≤8mm)' ? crystal.size <= 8 :\n          filters.size === '中(8-12mm)' ? (crystal.size > 8 && crystal.size < 12) :\n          crystal.size >= 12\n        )) &&\n        (!filters.price || (\n          filters.price === '0-10' ? crystal.price <= 10 :\n          filters.price === '11-15' ? (crystal.price > 10 && crystal.price <= 15) :\n          crystal.price > 15\n        ))\n      );\n    })\n    .sort((a, b) => {\n      if (!sortField) return 0;\n      const direction = sortDirection === 'asc' ? 1 : -1;\n      return a[sortField] > b[sortField] ? direction : -direction;\n    });\n\n  const calculateRemainingSpace = () => {\n    const wristCircumference = currentDesign.size;\n    const usedLength = calculateUsedLength();\n    return Math.max(0, wristCircumference - usedLength);\n  };\n\n  const handleDragStart = (crystal) => (e) => {\n    e.dataTransfer.setData('crystal', JSON.stringify(crystal));\n  };\n\n  const handleCrystalClick = (crystal) => {\n    const currentCrystals = [...currentDesign.crystals, crystal];\n    const totalLength = currentCrystals.reduce((sum, c) => sum + c.size, 0);\n    \n    // 增加 30cm (300mm) 的最大限制\n    const MAX_SIZE = 300; // 30cm 轉換為 mm\n    \n    // 如果總長度超過最大限制，則不添加水晶\n    if (totalLength > MAX_SIZE) {\n      return; // 超過最大限制，不執行任何操作\n    }\n    \n    // 如果總長度超過當前手圍尺寸但未超過最大限制\n    if (totalLength > currentDesign.size) {\n      setCurrentDesign(prev => ({\n        ...prev,\n        size: totalLength,\n        crystals: currentCrystals\n      }));\n    } \n    // 如果沒有超過當前手圍尺寸，則正常添加水晶\n    else {\n      setCurrentDesign(prev => ({\n        ...prev,\n        crystals: currentCrystals\n      }));\n    }\n  };\n\n  return (\n    <>\n      <FilterContainer>\n        {Object.entries(filterOptions).map(([key, options]) => (\n          <FilterSelect\n            key={key}\n            value={filters[key]}\n            onChange={(e) => setFilters({...filters, [key]: e.target.value})}\n          >\n            <option value=\"\">{key === 'color' ? '色系' : \n            key === 'size' ? '尺寸' :\n            key === 'energy' ? '能量' :\n            '價格'}</option>\n            {options.map(option => (\n              <option key={option} value={option}>{option}</option>\n            ))}\n          </FilterSelect>\n        ))}\n        <ClearFilterButton onClick={handleClearFilters}>\n          清除篩選\n        </ClearFilterButton>\n      </FilterContainer>\n\n      <GridView>\n        {filteredAndSortedCrystals.map(crystal => {\n          const remainingSpace = calculateRemainingSpace();\n          \n          return (\n            <CrystalCard\n              key={crystal.id}\n              onClick={() => handleCrystalClick(crystal)}\n              style={{\n                opacity: 1,\n                cursor: 'pointer'\n              }}\n            >\n              <CrystalImage\n                src={crystal.image}\n                alt={crystal.name}\n                draggable={true}\n                onDragStart={handleDragStart(crystal)}\n                onError={(e) => {\n                  e.target.src = '/placeholder.jpg';\n                }}\n              />\n              <CrystalName>{crystal.name}</CrystalName>\n              <CrystalInfo>{crystal.color} | {crystal.size}mm | {crystal.price}元</CrystalInfo>\n            </CrystalCard>\n          );\n        })}\n      </GridView>\n    </>\n  );\n};\n\nexport default CrystalTable; ","import styled from 'styled-components';\nimport { Accessories } from '../data/crystals';\nimport { useState, useEffect } from 'react';\nimport { useDesign } from '../contexts/DesignContext';\n\nconst PageContainer = styled.div`\n  padding: 20px;\n`;\n\nconst PageTitle = styled.h2`\n  margin-bottom: 20px;\n  color: #333;\n  text-align: center;\n`;\n\nconst GridView = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n  gap: 16px;\n  padding: 16px;\n`;\n\nconst AccessoryCard = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px;\n  border: 1px solid #eee;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  }\n`;\n\nconst AccessoryImage = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n  cursor: pointer;\n`;\n\nconst FilterContainer = styled.div`\n  display: flex;\n  gap: 16px;\n  margin-bottom: 16px;\n  flex-wrap: wrap;\n  align-items: center;\n`;\n\nconst FilterSelect = styled.select`\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  min-width: 120px;\n`;\n\nconst ClearFilterButton = styled.button`\n  padding: 8px 16px;\n  background: #f0f0f0;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #e0e0e0;\n  }\n`;\n\nconst AccessoryName = styled.div`\n  margin-top: 8px;\n  font-size: 12px;\n  text-align: center;\n`;\n\nconst AccessoryInfo = styled.div`\n  font-size: 10px;\n  color: #666;\n  text-align: center;\n`;\n\nconst AccessoryPage = () => {\n  const { setCurrentDesign, setSelectedCrystal } = useDesign();\n  const [sortField, setSortField] = useState(null);\n  const [sortDirection, setSortDirection] = useState('asc');\n  const [filters, setFilters] = useState(() => {\n    // 從 localStorage 讀取保存的篩選條件\n    const savedFilters = localStorage.getItem('accessoryFilters');\n    return savedFilters ? JSON.parse(savedFilters) : {\n      color: '',\n      type: '',\n      material: '',\n      price: ''\n    };\n  });\n\n  // 當篩選條件變化時，保存到 localStorage\n  useEffect(() => {\n    localStorage.setItem('accessoryFilters', JSON.stringify(filters));\n  }, [filters]);\n\n  // 獲取所有唯一的篩選選項\n  const filterOptions = {\n    color: [...new Set(Accessories.map(a => a.color))],\n    type: [...new Set(Accessories.map(a => a.type).filter(Boolean))],\n    material: [...new Set(Accessories.map(a => a.material).filter(Boolean))],\n    price: ['0-10', '11-15', '16-20']\n  };\n\n  const handleSort = (field) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortDirection('asc');\n    }\n  };\n\n  // 清除所有篩選條件\n  const handleClearFilters = () => {\n    const emptyFilters = {\n      color: '',\n      type: '',\n      material: '',\n      price: ''\n    };\n    setFilters(emptyFilters);\n    localStorage.setItem('accessoryFilters', JSON.stringify(emptyFilters));\n  };\n\n  // 篩選及排序配件\n  const filteredAndSortedAccessories = Accessories\n    .filter(accessory => {\n      return (\n        (!filters.color || accessory.color === filters.color) &&\n        (!filters.type || accessory.type === filters.type) &&\n        (!filters.material || accessory.material === filters.material) &&\n        (!filters.price || (\n          filters.price === '0-10' ? accessory.price <= 10 :\n          filters.price === '11-15' ? (accessory.price > 10 && accessory.price <= 15) :\n          accessory.price > 15\n        ))\n      );\n    })\n    .sort((a, b) => {\n      if (!sortField) return 0;\n      const direction = sortDirection === 'asc' ? 1 : -1;\n      return a[sortField] > b[sortField] ? direction : -direction;\n    });\n\n  const handleDragStart = (accessory) => (e) => {\n    e.dataTransfer.setData('crystal', JSON.stringify(accessory));\n  };\n\n  const handleAccessoryClick = (accessory) => {\n    // 設置選中的配件\n    setSelectedCrystal(accessory);\n    \n    // 添加到設計中\n    setCurrentDesign(prev => ({\n      ...prev,\n      crystals: [...prev.crystals, accessory]\n    }));\n  };\n\n  return (\n    <PageContainer>\n      <PageTitle>精美配件，點綴手鍊</PageTitle>\n      \n      <FilterContainer>\n        {Object.entries(filterOptions).map(([key, options]) => (\n          <FilterSelect\n            key={key}\n            value={filters[key]}\n            onChange={(e) => setFilters({...filters, [key]: e.target.value})}\n          >\n            <option value=\"\">{key === 'color' ? '色系' : \n            key === 'type' ? '類型' :\n            key === 'material' ? '材質' :\n            '價格'}</option>\n            {options.map(option => (\n              <option key={option} value={option}>{option}</option>\n            ))}\n          </FilterSelect>\n        ))}\n        <ClearFilterButton onClick={handleClearFilters}>\n          清除篩選\n        </ClearFilterButton>\n      </FilterContainer>\n\n      <GridView>\n        {filteredAndSortedAccessories.map(accessory => {\n          return (\n            <AccessoryCard\n              key={accessory.id}\n              onClick={() => handleAccessoryClick(accessory)}\n            >\n              <AccessoryImage\n                src={accessory.image}\n                alt={accessory.name}\n                draggable={true}\n                onDragStart={handleDragStart(accessory)}\n                onError={(e) => {\n                  e.target.src = '/placeholder.jpg';\n                }}\n              />\n              <AccessoryName>{accessory.name}</AccessoryName>\n              <AccessoryInfo>{accessory.color} | {accessory.material || ''} | {accessory.price}元</AccessoryInfo>\n            </AccessoryCard>\n          );\n        })}\n      </GridView>\n    </PageContainer>\n  );\n};\n\nexport default AccessoryPage; ","import CrystalTable from '../CrystalTable';\nimport AccessoryPage from '../../pages/AccessoryPage';\nimport HelperPage from '../../pages/HelperPage';\n\nconst CategoryContent = ({ currentCategory }) => {\n  switch (currentCategory) {\n    case 'crystal':\n      return <CrystalTable />;\n    case 'accessory':\n      return <AccessoryPage />;\n    case 'helper':\n      return <HelperPage />;\n    default:\n      return <CrystalTable />;\n  }\n};\n\nexport default CategoryContent; ","import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\n\nconst InfoContainer = styled.div`\n  padding: 20px;\n`;\n\nconst Title = styled.h2`\n  font-size: 24px;\n  color: #333;\n  margin-bottom: 16px;\n`;\n\nconst Section = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst SectionTitle = styled.h3`\n  font-size: 16px;\n  color: #666;\n  margin-bottom: 8px;\n`;\n\nconst PropertyList = styled.ul`\n  list-style: none;\n  padding: 0;\n`;\n\nconst PropertyItem = styled.li`\n  margin-bottom: 8px;\n  color: #333;\n`;\n\nconst DescriptionItem = styled.li`\n  margin-bottom: 8px;\n  color: #333;\n`;\n\nconst Description = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst ProductInfo = () => {\n  const { selectedCrystal } = useDesign();\n\n  if (!selectedCrystal) {\n    return null;\n  }\n\n  // 確保 description 存在，如果不存在則提供默認值\n  const descriptions = selectedCrystal.description || [];\n\n  const renderDescription = (descriptions) => {\n    // 檢查 descriptions 是否為陣列\n    if (Array.isArray(descriptions)) {\n      return descriptions.map((desc, index) => (\n        <DescriptionItem key={index}>\n          {desc}\n        </DescriptionItem>\n      ));\n    } else if (descriptions) {\n      // 如果是字串，直接顯示\n      return <DescriptionItem>{descriptions}</DescriptionItem>;\n    }\n    return null;\n  };\n\n  return (\n    <InfoContainer>\n      <Title>{selectedCrystal.name}</Title>\n      \n      <Section>\n        <SectionTitle>基本資訊</SectionTitle>\n        <PropertyList>\n          <PropertyItem>色系：{selectedCrystal.color}</PropertyItem>\n          <PropertyItem>尺寸：{selectedCrystal.size} mm</PropertyItem>\n          <PropertyItem>能量：{selectedCrystal.energy}</PropertyItem>\n          <PropertyItem>價格：NT$ {selectedCrystal.price}</PropertyItem>\n          {selectedCrystal.zodiac && (\n            <PropertyItem>適合星座：{selectedCrystal.zodiac.join('、')}</PropertyItem>\n          )}\n          {selectedCrystal.chakra && (\n            <PropertyItem>脈輪：{selectedCrystal.chakra}</PropertyItem>\n          )}\n        </PropertyList>\n      </Section>\n\n      <Description>\n        {renderDescription(selectedCrystal.description)}\n      </Description>\n    </InfoContainer>\n  );\n};\n\nexport default ProductInfo; ","import styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\nimport { useState, useEffect } from 'react';\nimport React from 'react';\nimport ProductInfo from '../ProductInfo';\nimport heartIcon from '../../assets/Logo/heart.png';\n\nconst DisplayContainer = styled.div`\n  padding: 20px;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst ImageContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 500px;\n`;\n\nconst BraceletContainer = styled.div`\n  position: absolute;\n  top: calc(50% + 90px);\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 250px;\n  height: 250px;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n`;\n\nconst ConnectionLine = styled.div`\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.7);\n  height: 2px;\n  transform-origin: left center;\n  z-index: 0;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\n`;\n\nconst CrystalBead = styled.div`\n  position: absolute;\n  width: ${props => props.displaySize}px;\n  height: ${props => props.displaySize}px;\n  left: 50%;\n  top: 50%;\n  transform-origin: center;\n  transform: \n    translate(-50%, -50%)\n    rotate(${props => props.angle}deg)\n    translateX(${props => props.radius}px)\n    rotate(${props => props.isAccessory ? \n      (props.angle > 180 ? '270deg' : '270deg') : // 根據角度調整配件朝向\n      `-${props.angle}deg`});\n  transition: all 0.3s ease;\n  z-index: ${props => props.moveMode ? (props.isSource ? 3 : 2) : (props.size > 10 ? 2 : 1)};\n  pointer-events: auto;\n  border-radius: ${props => props.isAccessory ? '10%' : '50%'};\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 40%;\n    border-radius: ${props => props.isAccessory ? '10% 10% 0 0 / 20% 20% 0 0' : '50% 50% 0 0 / 100% 100% 0 0'};\n    pointer-events: none;\n  }\n  \n  ${props => props.moveMode && `\n    filter: brightness(${props.isSource ? '1.2' : props.isTarget ? '1' : '0.7'});\n    transform: translate(-50%, -50%)\n      rotate(${props.angle}deg)\n      translateX(${props.radius}px)\n      rotate(${props.isAccessory ? '0' : `-${props.angle}`}deg)\n      scale(${props.isSource || props.isTarget ? '1.1' : '1'});\n    ${props.isTarget ? 'outline: 2px solid #4a90e2;' : ''}\n  `}\n`;\n\nconst BeadImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: ${props => props.isAccessory ? '10%' : '50%'};\n  position: relative;\n  display: block;\n`;\n\nconst BeadGloss = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 50%;\n  box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.5);\n  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3), transparent 70%);\n  pointer-events: none;\n`;\n\nconst TrashIcon = styled.div`\n  position: absolute;\n  bottom: -20px;\n  left: 30%;\n  transform: translateX(-50%);\n  width: 40px;\n  height: 40px;\n  background: rgba(255, 0, 0, 0.1);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.show ? 1 : 0};\n  transition: all 0.3s ease;\n  cursor: pointer;\n  \n  &:hover {\n    background: rgba(255, 0, 0, 0.2);\n    transform: translateX(-50%) scale(1.1);\n  }\n  \n  &.drag-over {\n    background: rgba(255, 0, 0, 0.3);\n    transform: translateX(-50%) scale(1.2);\n  }\n`;\n\nconst FloatingPreview = styled.div`\n  display: none;\n  \n  @media (max-width: 767px) {\n    display: ${props => props.show ? 'block' : 'none'};\n    position: fixed;\n    right: 20px;\n    bottom: 20px;\n    width: 100px;\n    height: 100px;\n    background: white;\n    border-radius: 50%;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n    z-index: 1000;\n    overflow: hidden;\n    cursor: pointer;\n  }\n`;\n\nconst MiniPreviewContainer = styled.div`\n  position: relative;\n  width: 80px;\n  height: 80px;\n  margin: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst MiniCrystalBead = styled.img`\n  position: absolute;\n  width: ${props => props.displaySize * 0.4}px;\n  height: ${props => props.displaySize * 0.4}px;\n  border-radius: 50%;\n  transform-origin: center;\n  transform: ${props => `\n    translate(-50%, -50%)\n    rotate(${props.angle}deg)\n    translateX(${props.radius}px)\n  `};\n  left: 50%;\n  top: 50%;\n  object-fit: cover;\n`;\n\nconst ClearAllButton = styled.button`\n  position: absolute;\n  top: 90px;\n  left: 10px;\n  padding: 8px 16px;\n  background: rgba(255, 0, 0, 0.1);\n  border: none;\n  border-radius: 4px;\n  color: #ff4444;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: block;\n  \n  &:hover {\n    background: rgba(255, 0, 0, 0.2);\n  }\n  \n  @media (max-width: 767px) {\n    display: none;\n  }\n`;\n\nconst MobileActionMenu = styled.div`\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n  z-index: 1001;\n  width: 80%;\n  max-width: 300px;\n  overflow: hidden;\n`;\n\nconst MobileActionButton = styled.button`\n  width: 100%;\n  padding: 15px;\n  border: none;\n  background: white;\n  text-align: center;\n  font-size: 16px;\n  border-bottom: 1px solid #eee;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  &:active {\n    background: #f5f5f5;\n  }\n`;\n\nconst Backdrop = styled.div`\n  display: ${props => props.show ? 'block' : 'none'};\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n`;\n\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: ${props => props.show ? 'flex' : 'none'};\n  justify-content: center;\n  align-items: center;\n  z-index: 1100;\n  \n  @media (max-width: 767px) {\n    align-items: flex-start;\n    padding-top: 20%;\n  }\n`;\n\nconst ModalContent = styled.div`\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  position: relative;\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  \n  @media (max-width: 767px) {\n    max-height: 70vh;\n  }\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 100px;\n  right: 10px;\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: #666;\n  \n  &:hover {\n    color: #333;\n  }\n`;\n\nconst SaveButtonContainer = styled.div`\n  position: absolute;\n  top: 90px;\n  right: 10px;\n  z-index: 10;\n  \n  @media (min-width: 768px) {\n    top: 95px;\n    right: 15px;\n  }\n`;\n\nconst SaveButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: #666;\n  transition: all 0.3s ease;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    transform: scale(1.1);\n  }\n  \n  &:hover::after {\n    content: \"儲存樣式\";\n    position: absolute;\n    bottom: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(0, 0, 0, 0.7);\n    color: white;\n    padding: 5px 10px;\n    border-radius: 4px;\n    font-size: 14px;\n    white-space: nowrap;\n  }\n  \n  img {\n    width: 24px;\n    height: 24px;\n    \n    @media (min-width: 768px) {\n      width: 28px;\n      height: 28px;\n    }\n  }\n`;\n\n// 添加手圍尺寸選擇器相關樣式，使用不同的變數名稱避免衝突\nconst ProductSizeContainer = styled.div`\n  margin: 15px 0;\n  text-align: center;\n`;\n\nconst ProductSizeTitle = styled.h3`\n  font-size: 16px;\n  color: #333;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ProductUnitLabel = styled.span`\n  font-size: 14px;\n  color: #666;\n  margin-left: 5px;\n  font-weight: normal;\n`;\n\nconst ProductSizeOptions = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-bottom: 10px;\n`;\n\nconst ProductSizeButton = styled.button`\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  background: ${props => props.active ? '#666' : '#fff'};\n  color: ${props => props.active ? '#fff' : '#333'};\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  font-size: 16px;\n  \n  &:hover {\n    background: ${props => props.active ? '#666' : '#f0f0f0'};\n  }\n`;\n\nconst ProductCustomButton = styled(ProductSizeButton)`\n  width: 70px;\n  height: 45px;\n  border-radius: 22.5px;\n  padding: 0 15px;\n`;\n\nconst ProductCustomInputContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 10px;\n`;\n\nconst ProductCustomInput = styled.input`\n  width: 80px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 16px;\n`;\n\nconst ProductUnit = styled.span`\n  margin-left: 8px;\n  color: #666;\n  font-size: 14px;\n`;\n\nconst MoveModeTip = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(74, 144, 226, 0.9);\n  color: white;\n  padding: 8px 12px;\n  border-radius: 20px;\n  font-size: 14px;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst CancelMoveButton = styled.button`\n  background: white;\n  color: #4a90e2;\n  border: none;\n  border-radius: 15px;\n  padding: 4px 10px;\n  margin-top: 5px;\n  font-size: 12px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #f0f0f0;\n  }\n`;\n\nconst ModalActions = styled.div`\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n  padding-top: 15px;\n  border-top: 1px solid #eee;\n`;\n\nconst ActionButton = styled.button`\n  background: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  \n  &:hover {\n    background: #3a80d2;\n  }\n  \n  &:nth-child(2) {\n    background: #ff6b6b;\n    \n    &:hover {\n      background: #ff5252;\n    }\n  }\n`;\n\nconst DeleteConfirmDialog = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.95);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-radius: 12px;\n  z-index: 10;\n`;\n\nconst DeleteConfirmMessage = styled.p`\n  font-size: 16px;\n  color: #333;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n\nconst DeleteConfirmButtons = styled.div`\n  display: flex;\n  gap: 15px;\n`;\n\nconst ConfirmButton = styled.button`\n  padding: 8px 20px;\n  background: #ff6b6b;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #ff5252;\n  }\n`;\n\nconst CancelButton = styled.button`\n  padding: 8px 20px;\n  background: #f0f0f0;\n  color: #333;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #e0e0e0;\n  }\n`;\n\n// 修正 processImageUrl 函數\nconst processImageUrl = (url) => {\n  // 如果 URL 為空或未定義，返回空字符串\n  if (!url) return '';\n  \n  // 如果 URL 已經是完整的 URL，則直接返回\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    return url;\n  }\n  \n  // 如果 URL 是相對路徑，則直接返回，不添加任何前綴\n  // React 會自動從 public 目錄加載\n  return url;\n};\n\nconst ProductDisplay = ({ onCrystalClick }) => {\n  const { currentDesign, setCurrentDesign, setSelectedCrystal, savedDesigns, setSavedDesigns } = useDesign();\n  const [beadPositions, setBeadPositions] = useState([]);\n  const [displaySize, setDisplaySize] = useState(200);\n  const [draggedBead, setDraggedBead] = useState(null);\n  const [isSpaceFull, setIsSpaceFull] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStartTime, setDragStartTime] = useState(0);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const sizesInCm = [14, 15, 16, 17, 18];\n  const currentSizeInCm = currentDesign.size / 10;\n  const [inputValue, setInputValue] = useState(currentSizeInCm.toString());\n  const [sizeError, setSizeError] = useState('');\n  const [selectedBeadIndex, setSelectedBeadIndex] = useState(null);\n  const [isDraggingEnabled, setIsDraggingEnabled] = useState(false);\n  const [moveMode, setMoveMode] = useState(false);\n  const [sourceIndex, setSourceIndex] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 767);\n  const [showCustomInput, setShowCustomInput] = useState(false);\n  const [customValue, setCustomValue] = useState('');\n  const [usedLength, setUsedLength] = useState(0);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  useEffect(() => {\n    if (currentDesign.crystals.length > 0) {\n      const wristCircumference = currentDesign.size;\n      \n      // 計算實際使用的長度（水晶長度加總）\n      const totalUsedLength = currentDesign.crystals.reduce((sum, crystal) => {\n        return sum + crystal.size;\n      }, 0);\n      \n      // 更新使用的長度狀態\n      setUsedLength(totalUsedLength);\n      \n\n      // 如果水晶總長度超出手圍尺寸，自動調整手圍尺寸\n      if (totalUsedLength > wristCircumference) {\n        // 設置新的手圍尺寸，稍微大於水晶總長度\n        const newSize = Math.ceil(totalUsedLength / 10) * 10; // 向上取整到最接近的整數厘米\n        \n        console.log(`自動調整手圍尺寸：從 ${wristCircumference}mm 到 ${newSize}mm`);\n        \n        // 更新設計的手圍尺寸\n        setCurrentDesign(prev => ({\n          ...prev,\n          size: newSize\n        }));\n        \n        // 提前返回，等待下一次渲染\n        return;\n      }\n\n      // 根據手圍尺寸優化水晶大小與排列\n      const totalBeads = currentDesign.crystals.length;\n      \n      // 計算手圍尺寸與標準尺寸的比例\n      const standardWristSize = 160; // 標準手圍尺寸(mm)\n      const sizeRatio = wristCircumference / standardWristSize;\n      \n      // 使用反比例關係調整水晶大小 - 手圍越大，水晶相對越小\n      // 這樣可以確保水晶數量增加時，整體效果更加美觀\n      const sizeAdjustFactor = 1 / Math.sqrt(sizeRatio);\n      \n      // 根據手圍尺寸調整半徑 - 手圍越大，半徑越大\n      const adjustedRadius = 120 * Math.sqrt(sizeRatio);\n      \n      // 計算每個水晶的位置和大小\n      const positions = [];\n      \n      // 計算水晶在圓上的均勻分佈角度 - 但要考慮水晶大小\n      // 首先計算所有水晶的總角度佔用\n      let totalAngleOccupation = 0;\n      const angleOccupations = [];\n      \n      for (let i = 0; i < totalBeads; i++) {\n        const crystal = currentDesign.crystals[i];\n        \n        // 根據水晶大小計算顯示尺寸\n        const baseDisplaySize = 45; // 基準顯示尺寸(px)\n        const sizeFactor = crystal.size / 8; // 相對於基準水晶大小(8mm)的比例\n        \n        // 計算顯示尺寸 - 手圍越大，水晶相對越小\n        let displaySize = baseDisplaySize * sizeFactor * sizeAdjustFactor;\n        \n        // 限制在合理範圍內\n        const minSize = 25 * sizeAdjustFactor;\n        const maxSize = 60 * sizeAdjustFactor;\n        displaySize = Math.max(minSize, Math.min(displaySize, maxSize));\n        \n        // 計算水晶在圓上的角度佔用 - 根據水晶大小和半徑\n        // 使用弧長公式：角度(弧度) = 弧長 / 半徑\n        // 弧長近似為水晶直徑\n        const arcLength = displaySize;\n        const angleOccupation = (arcLength / adjustedRadius) * (180 / Math.PI);\n        \n        angleOccupations.push({\n          crystal,\n          displaySize,\n          angleOccupation\n        });\n        \n        totalAngleOccupation += angleOccupation;\n      }\n      \n      // 計算重疊係數 - 使水晶看起來緊密串連\n      // 重疊係數越大，水晶重疊越多\n      const overlapFactor = 1.25;\n      \n      // 調整總角度佔用，考慮重疊\n      const adjustedTotalAngleOccupation = totalAngleOccupation / overlapFactor;\n      \n      // 計算每個水晶的角度位置\n      let currentAngle = 0;\n      \n      for (let i = 0; i < angleOccupations.length; i++) {\n        const { crystal, displaySize, angleOccupation } = angleOccupations[i];\n        \n        // 計算角度 - 考慮水晶大小和重疊\n        const angle = currentAngle + (angleOccupation / 2);\n        \n        // 更新當前角度\n        currentAngle += angleOccupation / overlapFactor;\n        \n        // 判斷是否為配件\n        const isAccessory = crystal.category === 'Accessories';\n        \n        positions.push({\n          ...crystal,\n          angle: (angle * 360) / adjustedTotalAngleOccupation,\n          radius: adjustedRadius,\n          displaySize,\n          sizeAdjustFactor,\n          isAccessory\n        });\n      }\n      \n      setBeadPositions(positions);\n    } else {\n      setBeadPositions([]);\n      setUsedLength(0);\n      setIsSpaceFull(false);\n    }\n  }, [currentDesign]);\n\n  useEffect(() => {\n    setInputValue(currentSizeInCm.toString());\n  }, [currentSizeInCm]);\n\n  // 監聽窗口大小變化\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 767);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleBeadClick = (bead, index, event) => {\n    // 如果事件對象存在，則阻止默認行為\n    if (event) {\n      event.preventDefault();\n    }\n    \n    // 如果處於移動模式\n    if (moveMode) {\n      // 如果已經選擇了源水晶（即 sourceIndex 不為 null）\n      if (sourceIndex !== null) {\n        // 移動水晶\n        const newCrystals = [...currentDesign.crystals];\n        const temp = newCrystals[sourceIndex];\n        newCrystals[sourceIndex] = newCrystals[index];\n        newCrystals[index] = temp;\n        \n        // 更新設計\n        setCurrentDesign({\n          ...currentDesign,\n          crystals: newCrystals\n        });\n        \n        // 重置移動模式\n        setSourceIndex(null);\n        setMoveMode(false);\n        return;\n      }\n      \n      // 如果還沒有選擇源水晶\n      setSourceIndex(index);\n      return;\n    }\n    \n    // 檢查是否為移動設備\n    if (isMobile) {\n      // 在移動設備上，選擇水晶並顯示操作菜單\n      setSelectedBeadIndex(index);\n      setShowMobileMenu(true);\n      return;\n    }\n    \n    // 桌面版的原有邏輯（非移動模式）\n    // 設置選中的水晶索引\n    setSelectedBeadIndex(index);\n    \n    // 設置選中的水晶，用於在 ProductInfo 中顯示\n    setSelectedCrystal(currentDesign.crystals[index]);\n    \n    // 顯示模態框\n    setShowModal(true);\n  };\n\n  const handleBeadDragStart = (e, index) => {\n    setDragStartTime(Date.now());\n    e.dataTransfer.setData('moveBeadIndex', index.toString());\n    setIsDragging(true);\n  };\n\n  const handleBeadDragEnd = () => {\n    setIsDragging(false);\n  };\n\n  const handleBeadDragOver = (e, index) => {\n    e.preventDefault();\n    if (moveMode && index !== sourceIndex) {\n      setSelectedBeadIndex(index);\n    }\n  };\n\n  const handleBeadDrop = (e, index) => {\n    e.preventDefault();\n    \n    if (moveMode && sourceIndex !== null && index !== sourceIndex) {\n      // 交換位置\n      const newCrystals = [...currentDesign.crystals];\n      const temp = newCrystals[sourceIndex];\n      newCrystals[sourceIndex] = newCrystals[index];\n      newCrystals[index] = temp;\n\n      setCurrentDesign(prev => ({\n        ...prev,\n        crystals: newCrystals\n      }));\n      \n      setMoveMode(false);\n      setSourceIndex(null);\n      setSelectedBeadIndex(null);\n      return;\n    }\n    \n    // 處理拖放水晶的邏輯\n    const moveBeadIndex = e.dataTransfer.getData('moveBeadIndex');\n    if (moveBeadIndex) {\n      const fromIndex = parseInt(moveBeadIndex);\n      \n      // 直接交換位置，不再計算角度\n      if (fromIndex !== index) {\n        const newCrystals = [...currentDesign.crystals];\n        const temp = newCrystals[fromIndex];\n        newCrystals[fromIndex] = newCrystals[index];\n        newCrystals[index] = temp;\n\n        setCurrentDesign(prev => ({\n          ...prev,\n          crystals: newCrystals\n        }));\n      }\n      \n      setIsDragging(false);\n    }\n  };\n\n  const handleBeadRemove = (index) => {\n    setCurrentDesign(prev => ({\n      ...prev,\n      crystals: prev.crystals.filter((_, i) => i !== index)\n    }));\n    setSelectedCrystal(null);\n  };\n\n  const handleTrashDragEnter = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.add('drag-over');\n  };\n\n  const handleTrashDragLeave = (e) => {\n    e.currentTarget.classList.remove('drag-over');\n  };\n\n  const handleTrashDrop = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('drag-over');\n    \n    const index = parseInt(e.dataTransfer.getData('moveBeadIndex'));\n    if (!isNaN(index)) {\n      handleBeadRemove(index);\n    }\n    setIsDragging(false);\n  };\n\n  const handleSizeChange = (sizeInCm) => {\n    const newSizeInMm = sizeInCm * 10;\n    const currentCrystals = [...currentDesign.crystals];\n    \n    // 計算目前水晶總長度\n    let totalCrystalLength = currentCrystals.reduce((sum, crystal) => sum + crystal.size, 0);\n    \n    // 如果新的手圍尺寸小於目前水晶總長度，從後面開始移除水晶\n    while (totalCrystalLength > newSizeInMm && currentCrystals.length > 0) {\n      const removedCrystal = currentCrystals.pop();\n      totalCrystalLength -= removedCrystal.size;\n    }\n\n    setCurrentDesign(prev => ({\n      ...prev,\n      size: newSizeInMm,\n      crystals: currentCrystals\n    }));\n  };\n\n  const handleCustomSize = (e) => {\n    const value = e.target.value;\n    setCustomValue(value);\n  };\n\n  const handleCustomSubmit = () => {\n    const valueInCm = parseFloat(customValue);\n    if (!isNaN(valueInCm) && valueInCm >= 8 && valueInCm <= 30) {\n      handleSizeChange(valueInCm);\n    }\n    setShowCustomInput(false);\n  };\n\n  const handleCustomClick = () => {\n    setShowCustomInput(true);\n    setCustomValue(currentSizeInCm.toString());\n  };\n\n  const handleClearAll = () => {\n    setCurrentDesign(prev => ({\n      ...prev,\n      crystals: []\n    }));\n    setBeadPositions([]);\n  };\n\n  const handleMobileActionClick = (action) => {\n    switch(action) {\n      case 'info':\n        // 顯示水晶詳情\n        // 設置選中的水晶，用於在 ProductInfo 中顯示\n        setSelectedCrystal(currentDesign.crystals[selectedBeadIndex]);\n        setShowModal(true);\n        break;\n      case 'move':\n        // 進入移動模式\n        setMoveMode(true);\n        setSourceIndex(selectedBeadIndex);\n        setShowMobileMenu(false); // 關閉菜單，但保持移動模式\n        return; // 提前返回，不執行下面的 setShowMobileMenu(false)\n      case 'delete':\n        // 刪除選中的水晶\n        handleBeadRemove(selectedBeadIndex);\n        break;\n      case 'clearAll':\n        // 顯示確認對話框而不是直接刪除\n        setShowDeleteConfirm(true);\n        return; // 提前返回，不關閉菜單\n      default:\n        break;\n    }\n    // 關閉操作菜單\n    setShowMobileMenu(false);\n  };\n\n  const handleConfirmClearAll = () => {\n    handleClearAll();\n    setShowDeleteConfirm(false);\n    setShowMobileMenu(false);\n  };\n\n  const handleCancelClearAll = () => {\n    setShowDeleteConfirm(false);\n  };\n\n  const handleMoveBeadClick = () => {\n    // 進入移動模式\n    setMoveMode(true);\n    // 關閉模態框\n    setShowModal(false);\n  };\n\n  // 修改添加水晶的函數，確保自動調整手圍尺寸\n  const handleAddCrystal = (crystal) => {\n    // 檢查是否還有剩餘空間\n    const currentCrystals = [...currentDesign.crystals];\n    const currentUsedLength = currentCrystals.reduce((sum, c) => sum + c.size, 0);\n    const remainingSpace = currentDesign.size - currentUsedLength;\n    \n    // 如果剩餘空間不足，自動調整手圍尺寸\n    if (crystal.size > remainingSpace) {\n      const newSize = currentDesign.size + (crystal.size - remainingSpace) + 2; // 加2mm作為緩衝\n      \n      // 更新設計，同時添加新水晶和調整手圍尺寸\n      setCurrentDesign(prev => ({\n        ...prev,\n        size: newSize,\n        crystals: [...prev.crystals, crystal]\n      }));\n      \n      console.log(`添加水晶後自動調整手圍尺寸：從 ${currentDesign.size}mm 到 ${newSize}mm`);\n    } else {\n      // 如果空間足夠，直接添加水晶\n      setCurrentDesign(prev => ({\n        ...prev,\n        crystals: [...prev.crystals, crystal]\n      }));\n    }\n  };\n\n  // 修改 renderConnectionLines 函數，使連接線更加隱蔽\n  const renderConnectionLines = () => {\n    if (beadPositions.length < 2) return null;\n    \n    return beadPositions.map((bead, index) => {\n      const nextIndex = (index + 1) % beadPositions.length;\n      const nextBead = beadPositions[nextIndex];\n      \n      // 計算兩個水晶的位置\n      const angle1 = bead.angle * Math.PI / 180;\n      const angle2 = nextBead.angle * Math.PI / 180;\n      \n      // 計算水晶邊緣的位置，而不是中心點\n      const radius1 = bead.radius;\n      const radius2 = nextBead.radius;\n      \n      const x1 = Math.cos(angle1) * radius1;\n      const y1 = Math.sin(angle1) * radius1;\n      const x2 = Math.cos(angle2) * radius2;\n      const y2 = Math.sin(angle2) * radius2;\n      \n      // 計算連線長度和角度\n      const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n      const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n      \n      // 根據手圍尺寸調整連接線的粗細\n      const lineThickness = bead.sizeAdjustFactor ? 1 * bead.sizeAdjustFactor : 1;\n      \n      return (\n        <ConnectionLine \n          key={`connection-${index}`}\n          style={{\n            width: `${length}px`,\n            height: `${lineThickness}px`,\n            left: `calc(50% + ${x1}px)`,\n            top: `calc(50% + ${y1}px)`,\n            transform: `rotate(${angle}deg)`,\n            opacity: 0.3, // 降低透明度，使連接線更加隱蔽\n            background: 'linear-gradient(to right, rgba(255,255,255,0.7), rgba(220,220,220,0.7))'\n          }}\n        />\n      );\n    });\n  };\n\n  // 修改 renderCrystals 函數，確保配件長邊朝外\n  const renderCrystals = () => {\n    return beadPositions.map((bead, index) => {\n      // 判斷是否為配件 - 修正category識別\n      const isAccessory = bead.category === 'accessory';\n      \n      return (\n        <CrystalBead\n          key={index}\n          displaySize={bead.displaySize}\n          angle={bead.angle}\n          radius={bead.radius}\n          size={bead.size}\n          moveMode={moveMode}\n          isSource={sourceIndex === index}\n          isTarget={moveMode && selectedBeadIndex === index && sourceIndex !== index}\n          onClick={(e) => handleBeadClick(bead, index, e)}\n          draggable={isDraggingEnabled}\n          onDragStart={(e) => handleBeadDragStart(e, index)}\n          onDragEnd={handleBeadDragEnd}\n          onDragOver={(e) => handleBeadDragOver(e, index)}\n          onDrop={(e) => handleBeadDrop(e, index)}\n          isAccessory={isAccessory}\n        >\n          <BeadImage \n            src={bead.image} \n            alt={`${isAccessory ? 'Accessory' : 'Crystal'} ${index}`}\n            isAccessory={isAccessory}\n            onError={(e) => {\n              console.error(`Failed to load image: ${bead.image}`);\n              e.target.src = 'default-crystal.png';\n            }}\n          />\n          <BeadGloss />\n        </CrystalBead>\n      );\n    });\n  };\n\n  // 添加 handleSave 函數\n  const handleSave = () => {\n    // 生成唯一ID\n    const designId = Date.now().toString();\n    \n    // 創建新的設計對象\n    const designToSave = {\n      ...currentDesign,\n      id: designId,\n      savedAt: new Date().toISOString()\n    };\n    \n    // 更新已保存的設計列表\n    setSavedDesigns([...savedDesigns, designToSave]);\n  };\n\n  // 添加 handleCancelMove 函數\n  const handleCancelMove = () => {\n    setMoveMode(false);\n    setSourceIndex(null);\n    setSelectedBeadIndex(null);\n  };\n\n  return (\n    <>\n      <DisplayContainer>\n        <ImageContainer>\n          <SaveButtonContainer>\n            <SaveButton onClick={handleSave}>\n              <img src={heartIcon} alt=\"儲存樣式\" />\n            </SaveButton>\n          </SaveButtonContainer>\n          <ClearAllButton onClick={handleClearAll}>\n            清除全部\n          </ClearAllButton>\n          \n          {/* 添加移動模式提示和取消按鈕 */}\n          {moveMode && (\n            <MoveModeTip>\n              請選擇要交換位置的水晶\n              <CancelMoveButton onClick={handleCancelMove}>\n                取消移動\n              </CancelMoveButton>\n            </MoveModeTip>\n          )}\n          \n          <BraceletContainer>\n            {/* 渲染連接線 */}\n            {renderConnectionLines()}\n            \n            {/* 渲染水晶 */}\n            {renderCrystals()}\n          </BraceletContainer>\n          \n          {/* 手圍尺寸選擇器 */}\n          <ProductSizeContainer>\n            <ProductSizeTitle>\n              手圍尺寸\n              <ProductUnitLabel>(cm)</ProductUnitLabel>\n            </ProductSizeTitle>\n            <ProductSizeOptions>\n              {sizesInCm.map(size => (\n                <ProductSizeButton\n                  key={size}\n                  active={currentSizeInCm === size}\n                  onClick={() => handleSizeChange(size)}\n                >\n                  {size}\n                </ProductSizeButton>\n              ))}\n              \n              <ProductCustomButton onClick={handleCustomClick}>\n                自訂\n              </ProductCustomButton>\n            </ProductSizeOptions>\n            \n            {showCustomInput && (\n              <ProductCustomInputContainer>\n                <ProductCustomInput\n                  type=\"number\"\n                  step=\"0.1\"\n                  min=\"8\"\n                  max=\"30\"\n                  value={customValue}\n                  onChange={handleCustomSize}\n                  onBlur={handleCustomSubmit}\n                  autoFocus\n                />\n                <ProductUnit>cm</ProductUnit>\n              </ProductCustomInputContainer>\n            )}\n            \n            <totalUsedLength>\n              目前長度：{(usedLength / 10).toFixed(1)} cm\n            </totalUsedLength>\n          </ProductSizeContainer>\n          \n          <TrashIcon \n            show={isDragging} \n            onDragEnter={handleTrashDragEnter}\n            onDragLeave={handleTrashDragLeave}\n            onDrop={handleTrashDrop}\n          >\n            🗑️\n          </TrashIcon>\n        </ImageContainer>\n      </DisplayContainer>\n      \n      {/* 移動設備操作菜單 */}\n      {showMobileMenu && selectedBeadIndex !== null && !moveMode && (\n        <MobileActionMenu>\n          <MobileActionButton onClick={() => handleMobileActionClick('info')}>\n            顯示資訊\n          </MobileActionButton>\n          <MobileActionButton onClick={() => handleMobileActionClick('move')}>\n            移動位置\n          </MobileActionButton>\n          <MobileActionButton onClick={() => handleMobileActionClick('delete')}>\n            刪除水晶\n          </MobileActionButton>\n          <MobileActionButton onClick={() => handleMobileActionClick('clearAll')}>\n            全部刪除\n          </MobileActionButton>\n          <MobileActionButton onClick={() => setShowMobileMenu(false)}>\n            取消\n          </MobileActionButton>\n          \n          {/* 確認刪除對話框 */}\n          {showDeleteConfirm && (\n            <DeleteConfirmDialog>\n              <DeleteConfirmMessage>確定要刪除所有水晶嗎？</DeleteConfirmMessage>\n              <DeleteConfirmButtons>\n                <ConfirmButton onClick={handleConfirmClearAll}>確定</ConfirmButton>\n                <CancelButton onClick={handleCancelClearAll}>取消</CancelButton>\n              </DeleteConfirmButtons>\n            </DeleteConfirmDialog>\n          )}\n        </MobileActionMenu>\n      )}\n      \n      {/* 背景遮罩 */}\n      <Backdrop show={showMobileMenu && !moveMode} onClick={() => setShowMobileMenu(false)} />\n\n      <Modal show={showModal}>\n        <ModalContent onClick={e => e.stopPropagation()}>\n          <CloseButton onClick={() => setShowModal(false)}>×</CloseButton>\n          <ProductInfo />\n          \n          {/* 添加移動按鈕 */}\n          <ModalActions>\n            <ActionButton onClick={handleMoveBeadClick}>\n              移動位置\n            </ActionButton>\n            <ActionButton onClick={() => {\n              handleBeadRemove(selectedBeadIndex);\n              setShowModal(false);\n            }}>\n              刪除水晶\n            </ActionButton>\n          </ModalActions>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n};\n\nexport default ProductDisplay; ","import styled from 'styled-components';\nimport CrystalTable from '../components/CrystalTable';\n\nconst PageContainer = styled.div`\n  padding: 20px;\n`;\n\nconst PageTitle = styled.h2`\n  margin-bottom: 20px;\n  color: #333;\n  text-align: center;\n`;\n\nconst CrystalPage = () => {\n  return (\n    <PageContainer>\n      <PageTitle>精選水晶，能量加持</PageTitle>\n      <CrystalTable />\n    </PageContainer>\n  );\n};\n\nexport default CrystalPage; ","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDesign } from '../../contexts/DesignContext';\nimport userIcon from '../../assets/Logo/user.png';\nimport crystalIcon from '../../assets/Logo/freeze.png';\nimport accessoryIcon from '../../assets/Logo/jewel.png';\nimport helperIcon from '../../assets/Logo/witch.png';\nimport { useNavigate } from 'react-router-dom';\n\nconst NavContainer = styled.div`\n  display: none;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: white;\n  box-shadow: 0 -2px 10px rgba(0,0,0,0.1);\n  z-index: 1000;\n  \n  @media (max-width: 767px) {\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nconst NavItems = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-around;\n  position: relative;\n`;\n\nconst NavItem = styled.div`\n  padding: 12px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  cursor: pointer;\n  flex: 1;\n  color: ${props => props.active ? '#4a90e2' : '#666'};\n  border-top: none;\n  \n  &:hover {\n    color: #4a90e2;\n  }\n`;\n\nconst CrystalIcon = styled.div`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 4px;\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n  \n  &:hover img {\n    fill: #4a90e2;\n  }\n`;\n\nconst AccessoryIcon = styled.div`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 4px;\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n  \n  &:hover img {\n    fill: #4a90e2;\n  }\n`;\n\nconst HelperIcon = styled.div`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 4px;\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n  \n  &:hover img {\n    fill: #4a90e2;\n  }\n`;\n\nconst UserIcon = styled.div`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 4px;\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n  \n  &:hover img {\n    fill: #4a90e2;\n  }\n`;\n\nconst Label = styled.div`\n  font-size: 12px;\n`;\n\nconst PreviewContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 80px;\n  height: 80px;\n  margin-top: -30px;\n  background: white;\n  border-radius: 50%;\n  box-shadow: 0 -2px 8px rgba(0,0,0,0.1);\n  z-index: 1001;\n  position: relative;\n  flex: none;\n  order: 2;\n`;\n\nconst MiniPreviewContainer = styled.div`\n  position: relative;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  border: 1px dashed #ccc;\n`;\n\nconst MiniCrystalBead = styled.img`\n  position: absolute;\n  width: ${props => props.displaySize * 0.35}px;\n  height: ${props => props.displaySize * 0.35}px;\n  border-radius: 50%;\n  transform-origin: center;\n  left: 50%;\n  top: 50%;\n  object-fit: cover;\n`;\n\nconst MobileNavigation = ({ currentCategory, onCategoryChange }) => {\n  const { currentDesign } = useDesign();\n  const [beadPositions, setBeadPositions] = useState([]);\n\n  useEffect(() => {\n    if (currentDesign.crystals && currentDesign.crystals.length > 0) {\n      const MM_TO_PIXEL = 3.5;\n      \n      const positions = currentDesign.crystals.map((crystal, index) => {\n        const displaySize = crystal.size * MM_TO_PIXEL;\n        return {\n          ...crystal,\n          displaySize\n        };\n      });\n      \n      setBeadPositions(positions);\n    } else {\n      setBeadPositions([]);\n    }\n  }, [currentDesign]);\n\n  const calculateMiniBeadPosition = (index, total, radius) => {\n    const angle = ((index / total) * 360) - 90;\n    return { angle };\n  };\n\n  const handleCategoryChange = (category) => {\n    if (category === 'helper') {\n      localStorage.removeItem('crystal_color_filter');\n      localStorage.removeItem('filter_timestamp');\n      localStorage.removeItem('redirect_to_helper');\n      localStorage.removeItem('helper_page');\n    }\n    \n    onCategoryChange(category);\n  };\n\n  useEffect(() => {\n    window.setMobileCategory = (category) => {\n      onCategoryChange(category);\n    };\n    \n    const fromTemplate = localStorage.getItem('fromTemplate');\n    const templateTime = localStorage.getItem('template_selected_time');\n    \n    if (fromTemplate === 'true' && templateTime) {\n      const now = Date.now();\n      const selectTime = parseInt(templateTime, 10);\n      if (now - selectTime < 5 * 60 * 1000) {\n        onCategoryChange('profile');\n        localStorage.removeItem('fromTemplate');\n        localStorage.removeItem('template_selected_time');\n      }\n    }\n    \n    return () => {\n      delete window.setMobileCategory;\n    };\n  }, [onCategoryChange]);\n\n  return (\n    <NavContainer>\n      <NavItems>\n        <NavItem \n          active={currentCategory === 'profile'} \n          onClick={() => onCategoryChange('profile')}\n          style={{ order: 1 }}\n        >\n          <UserIcon active={currentCategory === 'profile'}>\n            <img src={crystalIcon} alt=\"好設計\" />\n          </UserIcon>\n          <Label>好設計</Label>\n        </NavItem>\n        \n        <PreviewContainer style={{ order: 2 }}>\n          <MiniPreviewContainer>\n            {beadPositions.map((bead, index) => {\n              const radius = 30;\n              const position = calculateMiniBeadPosition(\n                index,\n                beadPositions.length,\n                radius\n              );\n              \n              return (\n                <MiniCrystalBead\n                  key={`mini-${bead.id}-${index}`}\n                  src={bead.image}\n                  displaySize={bead.displaySize}\n                  alt={bead.name}\n                  style={{\n                    transform: `\n                      translate(-50%, -50%)\n                      rotate(${position.angle}deg)\n                      translateX(${radius}px)\n                    `\n                  }}\n                />\n              );\n            })}\n          </MiniPreviewContainer>\n        </PreviewContainer>\n        <NavItem \n          active={currentCategory === 'helper'} \n          onClick={() => handleCategoryChange('helper')}\n          style={{ order: 3 }}\n        >\n          <HelperIcon active={currentCategory === 'helper'}>\n            <img src={helperIcon} alt=\"小幫手\" />\n          </HelperIcon>\n          <Label>小幫手</Label>\n        </NavItem>\n      </NavItems>\n    </NavContainer>\n  );\n};\n\nexport default MobileNavigation; ","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n// 可以使用向上箭頭圖標，或者直接用文字\n// import upArrowIcon from '../../assets/icons/up-arrow.png'; \n\nconst Button = styled.button`\n  display: none; // 預設隱藏\n  position: fixed;\n  bottom: 100px; // 顯示在底部導航上方\n  right: 20px;\n  background-color: rgba(74, 144, 226, 0.8); // 半透明藍色\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  font-size: 24px; // 調整箭頭或文字大小\n  cursor: pointer;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n  z-index: 999; // 確保在其他元素之上，但在 Modal 之下\n  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;\n  opacity: ${props => props.visible ? 1 : 0};\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\n\n  &:hover {\n    background-color: rgba(58, 128, 210, 0.9); // Hover 時加深顏色\n  }\n\n  @media (max-width: 767px) {\n    display: block; // 只在手機版顯示 block\n  }\n`;\n\nconst ScrollToTopButton = () => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  // 監聽滾動事件\n  useEffect(() => {\n    const toggleVisibility = () => {\n      // 當滾動超過一定高度時顯示按鈕 (例如 300px)\n      if (window.pageYOffset > 300) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    };\n\n    window.addEventListener('scroll', toggleVisibility);\n\n    // 清除監聽器\n    return () => window.removeEventListener('scroll', toggleVisibility);\n  }, []);\n\n  // 滾動到頂部的函數\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth' // 平滑滾動效果\n    });\n  };\n\n  return (\n    <Button onClick={scrollToTop} visible={isVisible}>\n      {/* 可以使用圖標 <img src={upArrowIcon} alt=\"Top\" /> 或文字 */}\n      ↑\n    </Button>\n  );\n};\n\nexport default ScrollToTopButton; ","import { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport CategoryTabs from '../components/CategoryTabs';\nimport CategoryContent from '../components/CategoryContent';\nimport ProductDisplay from '../components/ProductDisplay';\nimport SavedDesigns from '../components/SavedDesigns';\nimport { useDesign } from '../contexts/DesignContext';\nimport CrystalPage from './CrystalPage';\nimport AccessoryPage from './AccessoryPage';\nimport HelperPage from './HelperPage';\nimport ProfilePage from './ProfilePage';\nimport MobileNavigation from '../components/MobileNavigation';\nimport { useNavigate } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport ScrollToTopButton from '../components/ScrollToTopButton';\n\nconst PageLayout = styled.div`\n  display: grid;\n  gap: 20px;\n  padding: 20px;\n  min-height: calc(100vh - 60px);\n  \n  @media (min-width: 768px) {\n    grid-template-columns: 400px 1fr;\n  }\n  \n  @media (max-width: 767px) {\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 80px;\n    min-height: calc(100vh - 80px);\n  }\n`;\n\nconst LeftPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  \n  @media (max-width: 767px) {\n    order: 1;\n  }\n`;\n\nconst RightPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  overflow-y: auto;\n  max-height: calc(1280px);\n  \n  @media (max-width: 1024px) {\n    max-height: none;\n    order: 3;\n  }\n`;\n\nconst TabsContainer = styled.div`\n  width: 100%;\n  margin-bottom: 20px;\n`;\n\nconst SavedDesignsWrapper = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  \n  @media (max-width: 767px) {\n    display: none;\n  }\n`;\n\nconst OrderSectionContainer = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  @media (max-width: 767px) {\n    order: 2;\n    margin-bottom: 20px;\n  }\n`;\n\nconst TotalPrice = styled.div`\n  font-size: 18px;\n  font-weight: bold;\n  margin: 15px 0;\n  text-align: right;\n  color: #333;\n`;\n\nconst OrderButton = styled.button`\n  width: 100%;\n  padding: 12px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  \n  &:hover {\n    background: #45a049;\n  }\n`;\n\nconst OrderForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-top: 20px;\n`;\n\nconst Input = styled.input`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  min-height: 100px;\n  resize: vertical;\n`;\n\nconst SuccessMessage = styled.div`\n  color: #4CAF50;\n  text-align: center;\n  margin-top: 15px;\n  padding: 10px;\n  background-color: #e8f5e9;\n  border-radius: 4px;\n`;\n\nconst MobileInstructionText = styled.p`\n  font-size: 14px;\n  color: #666;\n  text-align: center;\n  margin-bottom: 10px;\n  padding: 0 15px;\n`;\n\nconst MainPage = () => {\n  const [currentCategory, setCurrentCategory] = useState('crystal');\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n  const { currentDesign, selectedCrystal, setCurrentDesign: updateCurrentDesign } = useDesign();\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 767);\n  const navigate = useNavigate();\n  const rightPanelRef = useRef(null);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 767);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    console.log('Current category changed to:', currentCategory);\n  }, [currentCategory]);\n\n  useEffect(() => {\n    const redirectToHelper = localStorage.getItem('redirect_to_helper');\n    const helperPage = localStorage.getItem('helper_page');\n    \n    if (redirectToHelper === 'true') {\n      localStorage.removeItem('redirect_to_helper');\n      \n      setCurrentCategory('helper');\n      \n      console.log(\"已切換到 helper 頁面，頁面類型:\", helperPage);\n    }\n  }, []);\n\n  const calculateTotal = () => {\n    if (!currentDesign || !currentDesign.crystals) {\n      return 0;\n    }\n    const accessoryTotal = currentDesign.accessories?.reduce((sum, acc) => sum + acc.price, 0) || 0;\n    const crystalTotal = currentDesign.crystals.reduce((sum, crystal) => sum + crystal.price, 0);\n    return crystalTotal + accessoryTotal;\n  };\n\n  const handleOrder = () => {\n    setShowOrderForm(true);\n    setOrderSuccess(false);\n  };\n\n  const handleSubmitOrder = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    console.log('Order Submitted:', Object.fromEntries(formData));\n    setOrderSuccess(true);\n    setShowOrderForm(false);\n  };\n\n  const handleCategoryChange = (category) => {\n    console.log('Changing category to:', category);\n    setCurrentCategory(category);\n    if (category === 'helper') {\n      localStorage.removeItem('crystal_color_filter');\n      localStorage.removeItem('filter_timestamp');\n      localStorage.removeItem('redirect_to_helper');\n      localStorage.removeItem('helper_page');\n    }\n    if (category === 'profile') {\n      // ... 可能的清理 ...\n    }\n  };\n\n  useEffect(() => {\n    if (isMobile && (currentCategory === 'helper' || currentCategory === 'crystal' || currentCategory === 'accessory' || currentCategory === 'profile')) {\n      setTimeout(() => {\n        rightPanelRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }, 0);\n    }\n  }, [currentCategory, isMobile]);\n\n  const renderMobileContent = () => {\n    console.log('Rendering mobile content for category:', currentCategory);\n    switch (currentCategory) {\n      case 'profile':\n        return <SavedDesigns />;\n      case 'crystal':\n        return <CrystalPage />;\n      case 'accessory':\n        return <AccessoryPage />;\n      case 'helper':\n        return <HelperPage />;\n      default:\n        return <CrystalPage />;\n    }\n  };\n\n  const renderDesktopContent = () => {\n    console.log('Rendering desktop content for category:', currentCategory);\n    switch (currentCategory) {\n      case 'crystal':\n        return <CrystalPage />;\n      case 'accessory':\n        return <AccessoryPage />;\n      case 'helper':\n        return <HelperPage />;\n      default:\n        return <CrystalPage />;\n    }\n  };\n\n  return (\n    <PageLayout>\n      <LeftPanel isMobile={isMobile} currentCategory={currentCategory}>\n        <ProductDisplay onCrystalClick={() => {}} />\n\n        <OrderSectionContainer>\n          <h3>訂購資訊</h3>\n          <TotalPrice>總金額: NT$ {calculateTotal()}</TotalPrice>\n\n          {!showOrderForm && !orderSuccess && (\n             <OrderButton onClick={handleOrder}>下單</OrderButton>\n          )}\n\n          {showOrderForm && (\n            <OrderForm onSubmit={handleSubmitOrder}>\n              <Input\n                name=\"name\"\n                placeholder=\"姓名\"\n                required\n              />\n              <Input\n                name=\"email\"\n                type=\"email\"\n                placeholder=\"Email\"\n                required\n              />\n              <TextArea\n                name=\"address\"\n                placeholder=\"送貨地址\"\n                required\n              />\n              <OrderButton type=\"submit\">\n                確認送出\n              </OrderButton>\n            </OrderForm>\n          )}\n\n          {orderSuccess && (\n            <SuccessMessage>\n              訂購成功！感謝您的訂購。\n            </SuccessMessage>\n          )}\n        </OrderSectionContainer>\n\n        <SavedDesignsWrapper>\n          <SavedDesigns />\n        </SavedDesignsWrapper>\n      </LeftPanel>\n\n      <RightPanel ref={rightPanelRef}>\n        {isMobile && (\n          <MobileInstructionText>\n            點擊下方頁籤切換選擇水晶或配件\n          </MobileInstructionText>\n        )}\n        <TabsContainer>\n          <CategoryTabs \n            currentCategory={currentCategory} \n            onCategoryChange={handleCategoryChange} \n            isMobile={isMobile}\n          />\n        </TabsContainer>\n        {!isMobile && renderDesktopContent()}\n        {isMobile && renderMobileContent()}\n      </RightPanel>\n\n      {isMobile && (\n        <MobileNavigation \n          currentCategory={currentCategory} \n          onCategoryChange={handleCategoryChange} \n        />\n      )}\n\n      <ScrollToTopButton />\n    </PageLayout>\n  );\n};\n\nexport default MainPage; "],"names":["styled","div","h3","span","SizeButton","button","props","active","ProfileContainer","input","Section","Title","h2","TotalPrice","OrderButton","OrderForm","form","Input","TextArea","textarea","ProfilePage","currentDesign","useDesign","showOrderForm","setShowOrderForm","useState","orderSuccess","setOrderSuccess","_jsxs","children","_jsx","SavedDesigns","crystals","reduce","sum","crystal","price","onClick","handleOrder","onSubmit","e","preventDefault","FormData","target","name","placeholder","required","type","style","color","textAlign","marginTop","SavedContainer","SavedList","SavedItem","PreviewContainer","BraceletPreview","PreviewBead","img","size","angle","radius","DeleteButton","EmptyMessage","setCurrentDesign","savedDesigns","setSavedDesigns","renderBraceletPreview","design","length","totalBeads","map","index","beadDisplaySize","Math","min","src","image","alt","onError","id","handleLoad","handleDelete","designId","stopPropagation","updatedDesigns","filter","localStorage","setItem","JSON","stringify","TabsContainer","Tab","_ref","currentCategory","onCategoryChange","isMobile","handleTabClick","category","removeItem","GridView","CrystalCard","CrystalImage","FilterContainer","FilterSelect","select","ClearFilterButton","CrystalName","CrystalInfo","CrystalTable","sortField","setSortField","sortDirection","setSortDirection","filters","setFilters","savedFilters","getItem","parse","energy","useEffect","filterOptions","Set","c","calculateUsedLength","filteredAndSortedCrystals","wouldExceedMaxLimit","power","sort","a","b","direction","handleDragStart","dataTransfer","setData","_Fragment","Object","entries","key","options","value","onChange","option","handleClearFilters","emptyFilters","calculateRemainingSpace","wristCircumference","usedLength","max","currentCrystals","totalLength","prev","handleCrystalClick","opacity","cursor","draggable","onDragStart","PageContainer","PageTitle","AccessoryCard","AccessoryImage","AccessoryName","AccessoryInfo","AccessoryPage","setSelectedCrystal","material","Accessories","Boolean","filteredAndSortedAccessories","accessory","handleAccessoryClick","InfoContainer","SectionTitle","PropertyList","ul","PropertyItem","li","DescriptionItem","Description","ProductInfo","selectedCrystal","description","zodiac","join","chakra","descriptions","Array","isArray","desc","renderDescription","DisplayContainer","ImageContainer","BraceletContainer","ConnectionLine","CrystalBead","displaySize","isAccessory","moveMode","isSource","isTarget","BeadImage","BeadGloss","TrashIcon","show","ClearAllButton","MobileActionMenu","MobileActionButton","Backdrop","Modal","ModalContent","CloseButton","SaveButtonContainer","SaveButton","ProductSizeContainer","ProductSizeTitle","ProductUnitLabel","ProductSizeOptions","ProductSizeButton","ProductCustomButton","ProductCustomInputContainer","ProductCustomInput","ProductUnit","MoveModeTip","CancelMoveButton","ModalActions","ActionButton","DeleteConfirmDialog","DeleteConfirmMessage","p","DeleteConfirmButtons","ConfirmButton","CancelButton","onCrystalClick","beadPositions","setBeadPositions","setDisplaySize","draggedBead","setDraggedBead","isSpaceFull","setIsSpaceFull","isDragging","setIsDragging","dragStartTime","setDragStartTime","showMobileMenu","setShowMobileMenu","currentSizeInCm","inputValue","setInputValue","toString","sizeError","setSizeError","selectedBeadIndex","setSelectedBeadIndex","isDraggingEnabled","setIsDraggingEnabled","setMoveMode","sourceIndex","setSourceIndex","showModal","setShowModal","setIsMobile","window","innerWidth","showCustomInput","setShowCustomInput","customValue","setCustomValue","setUsedLength","showDeleteConfirm","setShowDeleteConfirm","totalUsedLength","newSize","ceil","console","log","sizeRatio","sizeAdjustFactor","sqrt","adjustedRadius","positions","totalAngleOccupation","angleOccupations","i","minSize","maxSize","angleOccupation","PI","push","overlapFactor","adjustedTotalAngleOccupation","currentAngle","handleResize","addEventListener","removeEventListener","handleBeadDragEnd","handleBeadRemove","_","handleSizeChange","sizeInCm","newSizeInMm","totalCrystalLength","pop","handleClearAll","handleMobileActionClick","action","handleSave","Date","now","designToSave","savedAt","toISOString","heartIcon","handleCancelMove","bead","nextIndex","nextBead","angle1","angle2","radius1","radius2","x1","cos","y1","sin","x2","y2","pow","atan2","lineThickness","width","height","left","top","transform","background","handleBeadClick","event","newCrystals","temp","handleBeadDragStart","onDragEnd","onDragOver","handleBeadDragOver","onDrop","handleBeadDrop","moveBeadIndex","getData","fromIndex","parseInt","error","handleCustomClick","step","onBlur","handleCustomSubmit","valueInCm","parseFloat","isNaN","autoFocus","toFixed","onDragEnter","currentTarget","classList","add","onDragLeave","remove","handleConfirmClearAll","handleCancelClearAll","handleMoveBeadClick","CrystalPage","NavContainer","NavItems","NavItem","HelperIcon","UserIcon","Label","MiniPreviewContainer","MiniCrystalBead","MM_TO_PIXEL","setMobileCategory","fromTemplate","templateTime","order","crystalIcon","position","calculateMiniBeadPosition","total","handleCategoryChange","helperIcon","Button","visible","ScrollToTopButton","isVisible","setIsVisible","toggleVisibility","pageYOffset","scrollToTop","scrollTo","behavior","PageLayout","LeftPanel","RightPanel","SavedDesignsWrapper","OrderSectionContainer","SuccessMessage","MobileInstructionText","MainPage","setCurrentCategory","updateCurrentDesign","rightPanelRef","useNavigate","useRef","redirectToHelper","helperPage","setTimeout","_rightPanelRef$curren","current","scrollIntoView","block","ProductDisplay","calculateTotal","_currentDesign$access","accessoryTotal","accessories","acc","formData","fromEntries","ref","CategoryTabs","renderDesktopContent","HelperPage","renderMobileContent","MobileNavigation"],"sourceRoot":""}